<!DOCTYPE html>
<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
  <script src="//cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  <link href="/lib/pace/pace-theme-bounce.min.css?v=1.0.2" rel="stylesheet">
<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="google-site-verification" content="drUiN1FHdS_E7EWM7TtT28Sro8_hzEGAFj5tOjwcYJw">
  <link href="//cdn.jsdelivr.net/npm/fancybox@3.0.1/dist/css/jquery.fancybox.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.loli.net/css?family=Lato:300,300italic,400,400italic,700,700italic|16:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href="/css/main.css?v=6.5.0" rel="stylesheet" type="text/css">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.5.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.5.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.5.0">
  <link rel="mask-icon" href="/images/logo.svg?v=6.5.0" color="#222">
<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.5.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    fastclick: true,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
  <link href="/lib/waifu/waifu.css" rel="stylesheet" type="text/css">
  <meta name="description" content="这篇文章翻译自：MAKE YOUR OWN ENIGMA REPLICA在对称加密学当中，恩尼格玛机绝对是承前启后的存在。它将密码学研究从以前的语言文字学中心完全转移到了数学身上。在这里牵涉的密码并不是我们平时邮箱、银行帐号那种狭义概念，那种顶多叫做口令。这里说的密码就是通过某种映射方式，把一篇文章变得面目全非，以达到保密效果；只有特定的转换规律才能将其解密。这篇文章适于电脑控、军事控、历史控、">
<meta name="keywords" content="Arduino">
<meta property="og:type" content="article">
<meta property="og:title" content="自己打造一台恩尼格玛密码机">
<meta property="og:url" content="https://zhangshuqiao.org/2018-08/自己打造一台恩尼格玛密码机/index.html">
<meta property="og:site_name" content="米米的博客">
<meta property="og:description" content="这篇文章翻译自：MAKE YOUR OWN ENIGMA REPLICA在对称加密学当中，恩尼格玛机绝对是承前启后的存在。它将密码学研究从以前的语言文字学中心完全转移到了数学身上。在这里牵涉的密码并不是我们平时邮箱、银行帐号那种狭义概念，那种顶多叫做口令。这里说的密码就是通过某种映射方式，把一篇文章变得面目全非，以达到保密效果；只有特定的转换规律才能将其解密。这篇文章适于电脑控、军事控、历史控、">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F5YSP9KHMF6R1PD.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F3ULXLHHMEXSREA.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FQHGSW5HMF6R1XF.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FCU4XAXHMEXSQH3.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FVPK1ITHMEXSQHU.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FG3UNNCHMEXWMFY.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F177H22HM8CXMUF.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F5QWPPFHMFQJEKZ.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FJ4B8MDHM8CVVF4.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FSSAE2EHM8CVVF3.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FL8IEWNHMFQJENI.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F1UE3SZHMFQJENK.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F5B1IDKHM8D0839.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FCJKFP3HMEXWMPC.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FB9KU3WHM8CXMUR.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F6ZOVZKHMF6R1YM.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FDK4HNYHMF6R1Z8.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FDHCE6MHM8CXMUW.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FOTHEI2HM8D527O.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FNLRDOJHMEXWMW4.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F9FF43UHMEXWN47.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FIITQ0JHM8D083S.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F7CENKBHM8D8Z2S.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FB7E7EEHM8CVVHM.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FHT2F7HHM8D8Z2M.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FGQWASPHMFQJERA.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FIPCQX8HM8CVVHJ.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FFJ9BVGHMEXSRM6.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FHM5VLKHM8D6Q8D.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FE72PL9HMFQJEWD.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FV4474FHMF6R23U.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F0WOJNDHM8D085H.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FNWA7V2HMEXWNHT.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FXVDU5LHMEXSRP2.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FEM6HKTHMF6R23W.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F0LV9DXHMFQJEWH.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F3FLAQIHMF6R23V.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FS9DTJ4HMEXSROL.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FEWJUCNHMMFCNPV.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FFCPWADHMMF8FRX.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/F7E23SFHOHYMQIY.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FRVNOESHOPQDW25.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FGKWVNEHP8PLOCX.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FVGEWVMHP989E1R.LARGE.jpg">
<meta property="og:image" content="https://zhangshuqiao.org/images/2018-08/FMICFEUHP989E1T.LARGE.jpg">
<meta property="og:updated_time" content="2018-11-09T17:29:37.289Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="自己打造一台恩尼格玛密码机">
<meta name="twitter:description" content="这篇文章翻译自：MAKE YOUR OWN ENIGMA REPLICA在对称加密学当中，恩尼格玛机绝对是承前启后的存在。它将密码学研究从以前的语言文字学中心完全转移到了数学身上。在这里牵涉的密码并不是我们平时邮箱、银行帐号那种狭义概念，那种顶多叫做口令。这里说的密码就是通过某种映射方式，把一篇文章变得面目全非，以达到保密效果；只有特定的转换规律才能将其解密。这篇文章适于电脑控、军事控、历史控、">
<meta name="twitter:image" content="https://zhangshuqiao.org/images/2018-08/F5YSP9KHMF6R1PD.LARGE.jpg">
  <link rel="alternate" href="/atom.xml" title="米米的博客" type="application/atom+xml">
  <link rel="canonical" href="https://zhangshuqiao.org/2018-08/自己打造一台恩尼格玛密码机/">
<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>
  <title>自己打造一台恩尼格玛密码机 | 米米的博客</title>
<!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108155018-2"></script>-->
<script async src="/lib/gtag.js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-108155018-2');
</script>
  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }
    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }
    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>
</head>
<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">米米的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">做了一点微小的工作</p>
  </div>
  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>
<nav class="site-nav">
    <ul id="menu" class="menu">
          <li class="menu-item menu-item-home">
    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
  </li>
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-rocket"></i> <br>关于</a>
  </li>
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
  </li>
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
  </li>
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
  </li>
          <li class="menu-item menu-item-friends">
    <a href="/friends/" rel="section"><i class="menu-item-icon fa fa-fw fa-globe"></i> <br>朋友们</a>
  </li>
          <li class="menu-item menu-item-lab">
    <a href="/lab/" rel="section"><i class="menu-item-icon fa fa-fw fa-flask"></i> <br>实验室</a>
  </li>
        <li class="menu-item menu-item-search">
            <a href="javascript:;" class="popup-trigger">
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
    </ul>
    <div class="site-search">
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>
    </div>
</nav>
</div>
    </header>
    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
  <div id="posts" class="posts-expand">
  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhangshuqiao.org/2018-08/自己打造一台恩尼格玛密码机/">
    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张书樵">
      <meta itemprop="description" content="力电声光热，涵尽学海无涯">
      <meta itemprop="image" content="/images/icon.gif">
    </span>
    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="米米的博客">
    </span>
      <header class="post-header">
          <h1 class="post-title" itemprop="name headline">自己打造一台恩尼格玛密码机
          </h1>
        <div class="post-meta">
          <span class="post-time">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
                <span class="post-meta-item-text">发表于</span>
              <time title="创建时间：2018-08-05 13:18:39" itemprop="dateCreated datePublished" datetime="2018-08-05T13:18:39+08:00">2018-08-05</time>
          </span>
            <span class="post-category">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
                <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/技术/" itemprop="url" rel="index"><span itemprop="name">技术</span></a></span>
            </span>
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018-08/自己打造一台恩尼格玛密码机/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/2018-08/自己打造一台恩尼格玛密码机/" itemprop="commentCount"></span>
                </a>
              </span>
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-file-o"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
            <div class="post-symbolscount">
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                  <span class="post-meta-item-text">本文字数：</span>
                <span title="本文字数">48k</span>
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                <span title="阅读时长">44 分钟</span>
            </div>
        </div>
      </header>
    <div class="post-body" itemprop="articleBody">
        <p><img src="/images/2018-08/F5YSP9KHMF6R1PD.LARGE.jpg" alt=""></p>
<p>这篇文章翻译自：<a href="https://www.instructables.com/id/Make-your-own-Enigma-Replica/" target="_blank" rel="noopener">MAKE YOUR OWN ENIGMA REPLICA</a><br>在对称加密学当中，恩尼格玛机绝对是承前启后的存在。它将密码学研究从以前的语言文字学中心完全转移到了数学身上。在这里牵涉的密码并不是我们平时邮箱、银行帐号那种狭义概念，那种顶多叫做口令。这里说的密码就是通过某种映射方式，把一篇文章变得面目全非，以达到保密效果；只有特定的转换规律才能将其解密。这篇文章适于电脑控、军事控、历史控、数学控阅读，请做好烧脑准备。</p>
<p>EDIT: This Instructable has won Second prize in the 2013 Radio Shack Microcontroller Contest. Thank You to all who voted!<br>按：这个作品是2013年无线电单片机竞赛的亚军。感谢所有支持这个作品的你们！<br>EDIT2: An Open Enigma with fake Standup Nixie Tubes like the ones pictured in this Instructable will soon be available as a Special Kickstarter edition.</p>
<p>This is our very first Instructable and this step by step guide will show you how to build a fully functional electronic replica of the world famous German Enigma machine. This Arduino based Open Source project is able to encrypt &amp; decrypt any Enigma M4 encoded message.<br>这是我们的初号机。以下教程将手把手教你如何完美复刻史上著名的德国恩尼格玛密码机。这个基于Arduino的开源程序能够加解密任何Enigma机M4型（海军型）的信息。<br>This first ever fully functional Open Source Enigma “exact” Replica was inspired by the Kid’s Game to Arduino Enigma Machine by sketchsk3tch.<br>这个第一台全功能开源完美Enigma机复制品是根据sketchsk3tch写的《Kid’s Game to Arduino Enigma Machine（从儿童玩具到Arduino恩尼格玛机）》所作。<br>Using Multiplexing for the LEDs, this circuit with 115 light emitting diodes uses only 38 pins and the 36 push buttons use only 4 pins total thanks to properly placed resistors (and the P-Channel MOSFETs) in the keyboard loop. These 4 16-Segment displays &amp; an LED for each keyboard button would add up quickly the total number of pins required and even the Arduino Mega would have ran out of pins without the 2 methods mentioned above….<br>采用多路复用LED电路，仅用38个针脚的115个发光二极管和4个针脚的36个按键所连接的整个电路，全靠在键盘回路里准确放置的电阻以及P沟道场效应晶体管得以实现。要不然，4个16段显示器，以及每个按键上的LED将大幅增加所需针脚总量——即使用了Arduino Mega板，但如果没用上述两个方法，电路也不能如此简洁。<br>In response to the overwhelming demand, we designed the PCB and made it available through <a href="http://www.stgeotronics.com" target="_blank" rel="noopener">www.stgeotronics.com</a>. Skip to Step 10 &amp; beyond for more info. We also offer it as a complete electronics kit &amp; an assembled &amp; tested complete product.<br>面对电路的超额需求，我们在 <a href="http://www.stgeotronics.com" target="_blank" rel="noopener">http://www.stgeotronics.com</a> 设计了专用的PCB板。直接跳到第10步和以后的步骤可以找到更多信息。同时，我们也发布了测试过的完整电子组装套装。</p>
<h2 id="Step-1-Proof-of-Concept-on-Breadboard"><a href="#Step-1-Proof-of-Concept-on-Breadboard" class="headerlink" title="Step 1: Proof of Concept on Breadboard"></a>Step 1: Proof of Concept on Breadboard</h2><p>第一步：面包板上的论证<br><img src="/images/2018-08/F3ULXLHHMEXSREA.LARGE.jpg" alt=""><br><img src="/images/2018-08/FQHGSW5HMF6R1XF.LARGE.jpg" alt=""></p>
<p>Before going all out on the development of this electronic Enigma replica, we wanted to make sure we could properly drive the 16 Segment LEDs. If we can do that, than we will be able to do everything as the rest is only Math…<br>在开始制作电子Enigma机之前，我们先要确保能驱动16段LED显示。如果成功，我们就能做接下来的所有步骤——除了数学上的问题，一切都是浮云。</p>
<a id="more"></a>
<h2 id="Step-2-Gather-the-Raw-Materials…"><a href="#Step-2-Gather-the-Raw-Materials…" class="headerlink" title="Step 2: Gather the Raw Materials…"></a>Step 2: Gather the Raw Materials…</h2><p>第二步：万事具备<br><img src="/images/2018-08/FCU4XAXHMEXSQH3.LARGE.jpg" alt=""></p>
<p>You will need:</p>
<ul>
<li>1 Arduino Mega</li>
<li>26 Alpha Buttons</li>
<li>26 1/4” Jacks Mono</li>
<li>10 1/4” Plugs Mono</li>
<li>36 Pushbuttons</li>
<li>1 On/Off/On Switch</li>
<li>4 16Segment Orange</li>
<li>4 Injection molded 2-Liter Soda Bottle preform (test tubes)</li>
<li>1 Case Plywood</li>
<li>1 Hinge &amp; Hooks</li>
<li>1 Half-Mortise Lock</li>
<li>1 Perfboard</li>
<li>38 Resistors 470 Ohms</li>
<li>40 Resistors 1K Ohms</li>
<li>7 IRF9Z24N P-Channel MOSFET</li>
<li>1 Piece of Metal &amp; Spray paint</li>
</ul>
<p>你所需要的是：</p>
<ul>
<li>1个Arduino Mega 2560板</li>
<li>26个字母按键</li>
<li>26个1/4英寸单通道母接口</li>
<li>10个1/4英寸单通道公接口</li>
<li>36个机械按钮</li>
<li>1个单刀三掷开关</li>
<li>4个16段橙色LED显示</li>
<li>4个注塑2升汽水瓶罩子</li>
<li>1个胶合板盒子</li>
<li>一个铰链</li>
<li>一个半榫接锁</li>
<li>一个接线盘</li>
<li>38个470欧电阻</li>
<li>40个1千欧电阻</li>
<li>7个IRF9Z24N P沟道场效应晶体管</li>
<li>1块金属片以及喷漆。</li>
</ul>
<p>Optional:</p>
<ul>
<li>Battery Case</li>
<li>Rechargeable Batteries</li>
<li>Battery Charger/Connectors</li>
</ul>
<p>可选项：</p>
<ul>
<li>电池盒</li>
<li>充电电池</li>
<li>充电器/充电接头</li>
</ul>
<p>If we were to do it again, we wouldn’t use 1/4” Jacks &amp; Plugs as these are pretty big and tend to overwhelm the whole Enigma. Banana plugs &amp; jacks are smaller &amp; closer to the original connectors used by the real German Enigmas.<br>我们真要做的时候，是不会用1/4英寸接口的。它们太大的体积几乎要超过整个恩尼格玛机。香蕉插头体积较小，而且比原版德国Enigma机结合得更紧密些。</p>
<h2 id="Step-3-Lay-the-Components-Down"><a href="#Step-3-Lay-the-Components-Down" class="headerlink" title="Step 3: Lay the Components Down"></a>Step 3: Lay the Components Down</h2><p>第三步：布置零件<br><img src="/images/2018-08/FVPK1ITHMEXSQHU.LARGE.jpg" alt=""><br><img src="/images/2018-08/FG3UNNCHMEXWMFY.LARGE.jpg" alt=""><br><img src="/images/2018-08/F177H22HM8CXMUF.LARGE.jpg" alt=""><br><img src="/images/2018-08/F5QWPPFHMFQJEKZ.LARGE.jpg" alt=""><br><img src="/images/2018-08/FJ4B8MDHM8CVVF4.LARGE.jpg" alt=""><br><img src="/images/2018-08/FSSAE2EHM8CVVF3.LARGE.jpg" alt=""></p>
<p>The Radio Shack 6” x 8” Micro Perboard is the perfect size to host all components as it provides just the right amount of space to fit everything on &amp; will fit perfectly inside the Enigma box.<br>6*8寸无线电面包版是最适合放置所有元件的，既不多余也不拥挤，而且和Enigma机盒子内部完美吻合。<br>We started dividing the space on the Perfboard equally between the 3 regions, but realized soon that this would make the electonic Enigma longer than the real one, so we compressed everything down to the proper spacing.<br>最初我们将面包板等分为三块区域，但很快意识到，如此一来，电子版Enigma机将比原版的机械Enigma机长。于是我们将所有零件缩放到正好够占用的空间。<br>Once satisfied with the positioning of each components, next step is soldering.<br>每个元件位置就绪，下一步就是焊接。</p>
<h2 id="Step-4-Soldering-Soldering-amp-a-Little-More-Soldering"><a href="#Step-4-Soldering-Soldering-amp-a-Little-More-Soldering" class="headerlink" title="Step 4: Soldering, Soldering &amp; a Little More Soldering"></a>Step 4: Soldering, Soldering &amp; a Little More Soldering</h2><p>第四步：我焊，我焊，我焊焊焊……<br><img src="/images/2018-08/FL8IEWNHMFQJENI.LARGE.jpg" alt=""><br><img src="/images/2018-08/F1UE3SZHMFQJENK.LARGE.jpg" alt=""><br><img src="/images/2018-08/F5B1IDKHM8D0839.LARGE.jpg" alt=""><br><img src="/images/2018-08/FCJKFP3HMEXWMPC.LARGE.jpg" alt=""><br><img src="/images/2018-08/FB9KU3WHM8CXMUR.LARGE.jpg" alt=""><br><img src="/images/2018-08/F6ZOVZKHMF6R1YM.LARGE.jpg" alt=""></p>
<p>OK, this proved to be the most solder I have used on a single project ever. With 18 pins per 16 Segment, times 4 plus 26 keyboard keys + 26 keyboard lamps + a few LEDs &amp; 1 SPDT on/off/on switch, that was a lot of solder.<br>好吧，在单一作品身上，我从没焊接如此多次。16段显示的18个针脚，还有26个字母键乘以每个4个脚，外加26个键盘灯，一些其他LED，一个三掷开关，真乃“成吉思焊”。<br>Our decision to raise the 16 Segment displays up to make them look like old-time Nixie tubes certainly added a lot of solder points!<br>当初我们的决定是使这些16段LED显示看起来像老式电子管的感觉，增加了不少焊点，“巨焊”！<br>Our Arduino Mega Pin assignment:<br>Arduino Mega板上针脚的分配：</p>
<p>17 Segments:<br>Seg Pin Wire DuinoPin<br>a   2   blue  24<br>b   1   white 22<br>c   16  wh-bl 25<br>d   13  green 31<br>e   9   wh-br 38<br>f   8   brown 36<br>g   6   green 32<br>h   5   wh-or 30<br>k   4   orang 28<br>m   3   wh-bl 26<br>n   17  blue  23<br>p   15  orang 27<br>r   12  wh-gr 33<br>s   11  brown 35<br>t   7   wh-gr 34<br>u   14  wh-or 29<br>dp  10  wh-br 37<br>anode1 18 red 39<br>anode2 18 red 41<br>anode3 18 red 43<br>anode4 18 red 45</p>
<p>LEDs:<br>1  40<br>2  42<br>3  44<br>4  46<br>5  48</p>
<p>Lamps:<br>QAP 10<br>WSY 9<br>EDX 8<br>RFC 7<br>TGV 6<br>ZHB 5<br>UJN 4<br>IKM 3<br>OL  2<br>anode1 (First Row)  11<br>anode2 (Second Row) 12<br>anode3 (Third Row)  13</p>
<p>Function Keys:<br>A0</p>
<p>Keyboard:<br>First Row A1<br>Second Row A2<br>Third Row A3</p>
<h2 id="Step-5-Make-a-Box-and-Cut-amp-Drill-the-Top-Plate"><a href="#Step-5-Make-a-Box-and-Cut-amp-Drill-the-Top-Plate" class="headerlink" title="Step 5: Make a Box and Cut &amp; Drill the Top Plate."></a>Step 5: Make a Box and Cut &amp; Drill the Top Plate.</h2><p>第五步：门面工夫——做个盒子钻出面板<br><img src="/images/2018-08/FDK4HNYHMF6R1Z8.LARGE.jpg" alt=""><br><img src="/images/2018-08/FDHCE6MHM8CXMUW.LARGE.jpg" alt=""><br><img src="/images/2018-08/FOTHEI2HM8D527O.LARGE.jpg" alt=""><br><img src="/images/2018-08/FNLRDOJHMEXWMW4.LARGE.jpg" alt=""></p>
<p>After obtaining the exact dimensions of the original M4 wooden box, we purchased a sheet of plywood &amp; cut it in pieces so we could assemble our case.<br>在原版M4型木盒内得到确定位置数据后，我们买了一块胶合板，将它切块，然后砌盒子。<br>We decided to cut a steel plate from an obsolete rack mounted server as it had just the right thickness of metal for our needs. After making a transparency that showed where every button/lamp was located &amp; cutting it out, we were able to superimpose it on the metal piece and draw each required hole with a sharpie.<br>我们从旧服务器机架上卸了一块钢板，厚度正合需要。将模具（上面早已画好每个按键和灯位，并切好了洞洞）盖在钢板上，然后用记号笔画出需要切出的洞洞。<br>We then spray painted it textured black to look like the real Enigma.<br>接着，我们用喷漆把它涂黑，就像真的Enigma机那样。</p>
<h2 id="Step-6-Integration-Tests"><a href="#Step-6-Integration-Tests" class="headerlink" title="Step 6: Integration Tests"></a>Step 6: Integration Tests</h2><p>第六步：组装测试<br><img src="/images/2018-08/F9FF43UHMEXWN47.LARGE.jpg" alt=""><br><img src="/images/2018-08/FIITQ0JHM8D083S.LARGE.jpg" alt=""><br><img src="/images/2018-08/F7CENKBHM8D8Z2S.LARGE.jpg" alt=""><br><img src="/images/2018-08/FB7E7EEHM8CVVHM.LARGE.jpg" alt=""><br><img src="/images/2018-08/FHT2F7HHM8D8Z2M.LARGE.jpg" alt=""><br><img src="/images/2018-08/FGQWASPHMFQJERA.LARGE.jpg" alt=""><br><img src="/images/2018-08/FIPCQX8HM8CVVHJ.LARGE.jpg" alt=""></p>
<p>First is the permanent fitting of the metal plate on top of the perfboard making sure every button is working and every LED can shine.<br>首先把金属板在面包版上永久固定，确保所有按键正常工作，所有LED都能发光。<br>Then is the fitting of this solid assembly into the wooden case ensuring we didn’t introduce a short anywhere.<br>接着就是把这一大坨东东装入木盒，确保没有空隙位置。</p>
<h2 id="Step-7-Software-Ohhhh…-Ouch"><a href="#Step-7-Software-Ohhhh…-Ouch" class="headerlink" title="Step 7: Software - Ohhhh…. Ouch!"></a>Step 7: Software - Ohhhh…. Ouch!</h2><p>第七步：软件啊，日完软啊！<br><img src="/images/2018-08/FFJ9BVGHMEXSRM6.LARGE.jpg" alt=""><br><img src="/images/2018-08/FHM5VLKHM8D6Q8D.LARGE.jpg" alt=""></p>
<p>During each hardware assembly phase, we had created small Arduino sketches that would test the specific individual section we were working on:<br>在组装硬件过程中，我们也写了个小型Arduino程序框架，用以测试特定几个需要关注的部分：<br>A code that tests that each keyboard button is read accurately.<br>A second code that tests each of the 10 function buttons.<br>用来测试每个按键信号能准确读取，还有测试10个功能按键的代码。<br>An Enigma_POST (Power On Self Test) sketch that tests that each keyboard lamp can be lit precisely and move each LED through each mode, with some modifications to the original breadboard code to ensure each segment of the 4 16-Segment LEDs is working perfectly.<br>Enigma_POST（上电自检）确保在每种模式下所有键盘等都能准确亮起，在每种模式下每个LED信号都能传送。我们对原本面包板上的代码做了修正，确保4个16段LED显示的每个部件无懈可击。<br>But, even with all these sample codes on hand that tested every piece of hardware on the machine, the task of reproducing the encrypting/decrypting functionality of a real M4 Enigma was a Mathematics tour-de-force!<br>但，即使所有手上的程序片段都说明机器状态完好，重现M4海军型Enigma机加解密功能，数学方面居功至伟。<br>All Arduino sketches will be available on our Github that we are currently setting up.<br>所有的Arduino程序片段即将在我们刚刚建好的<a href="https://github.com/ST-Geotronics/" target="_blank" rel="noopener">Github组织</a>中发布。<br>Here is the Enigma_POST sketch:<br>以下是Enigma_POST程序片段（上电自检）：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Enigma Development Code to Test each of the 4 Nixies, the 5 LEDs,</span></span><br><span class="line"><span class="comment">   then Turn On each Lamp in sequence.</span></span><br><span class="line"><span class="comment">   Written by Marc Tessier &amp; James Sanderson 9/8/13</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the 16-Segments Pins</span></span><br><span class="line"><span class="keyword">int</span> segment[<span class="number">17</span>] = &#123; <span class="number">24</span>,<span class="number">22</span>,<span class="number">25</span>,<span class="number">31</span>,<span class="number">38</span>,<span class="number">36</span>,<span class="number">32</span>,<span class="number">30</span>,<span class="number">28</span>,<span class="number">26</span>,<span class="number">23</span>,<span class="number">27</span>,<span class="number">33</span>,<span class="number">35</span>,<span class="number">34</span>,<span class="number">29</span>,<span class="number">37</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> anode[<span class="number">4</span>] = &#123; <span class="number">39</span>,<span class="number">41</span>,<span class="number">43</span>,<span class="number">45</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the 9 lamps Pins</span></span><br><span class="line"><span class="keyword">int</span> lamp[<span class="number">9</span>] = &#123; <span class="number">10</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> lanode[<span class="number">3</span>] = &#123; <span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LTP587P Segments: A,B,C,D,E,F,G,H,K,M,N,P,R,S,T,U,dp              </span></span><br><span class="line">boolean segmentvals[<span class="number">39</span>][<span class="number">17</span>] = &#123;</span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = A</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = B</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = C</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = D</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = E</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = F</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = G</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = H</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = I</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = J</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = K</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = L</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = M</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = N</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = O</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = P</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Q</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = R</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = S</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = T</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = U</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = V</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = W</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = X</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Y</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Z</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = 0</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = 1</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 2</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = 3</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 4</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 5</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 6</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = 7</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 8</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 9</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Space</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;, <span class="comment">// = Full Lit</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;  <span class="comment">// = SS</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// LTP587P Segments: A,B,C,D,E,F,G,H,K,M,N,P,R,S,T,U,dp</span></span><br><span class="line"></span><br><span class="line">boolean lampvals[<span class="number">9</span>][<span class="number">9</span>] = &#123;</span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Q or A or P</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = W or S or Y</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = E or D or X</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = R or F or C</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = T or G or V</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Z or H or B</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = U or J or N</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = I or K or M</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span> &#125;  <span class="comment">// = O or L</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> value_row1 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> value_row2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> value_row3 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> key = <span class="number">91</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> led1 = <span class="number">40</span>;</span><br><span class="line"><span class="keyword">int</span> led2 = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">int</span> led3 = <span class="number">44</span>;</span><br><span class="line"><span class="keyword">int</span> led4 = <span class="number">46</span>;</span><br><span class="line"><span class="keyword">int</span> led5 = <span class="number">48</span>;</span><br><span class="line"><span class="keyword">int</span> wait = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">3</span>; index++) &#123;</span><br><span class="line">        pinMode(anode[index], OUTPUT);</span><br><span class="line">        digitalWrite(anode[index], <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">16</span>; index++) &#123;</span><br><span class="line">        pinMode(segment[index], OUTPUT);</span><br><span class="line">        digitalWrite(segment[index], <span class="number">1</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">// initialize the digital pins as an output.</span></span><br><span class="line">    pinMode(led1, OUTPUT);</span><br><span class="line">    pinMode(led2, OUTPUT);</span><br><span class="line">    pinMode(led3, OUTPUT);</span><br><span class="line">    pinMode(led4, OUTPUT);</span><br><span class="line">    pinMode(led5, OUTPUT);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">2</span>; index++) &#123;</span><br><span class="line">        pinMode (lanode[index], OUTPUT);</span><br><span class="line">        digitalWrite (lanode[index], <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">8</span>; index++) &#123;</span><br><span class="line">        pinMode(lamp[index], OUTPUT);</span><br><span class="line">        digitalWrite(lamp[index], <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    sixteenSegWrite(<span class="number">0</span>, <span class="number">38</span>);</span><br><span class="line">    sixteenSegWrite(<span class="number">1</span>, <span class="number">38</span>);</span><br><span class="line">    sixteenSegWrite(<span class="number">2</span>, <span class="number">38</span>);</span><br><span class="line">    sixteenSegWrite(<span class="number">3</span>, <span class="number">38</span>);</span><br><span class="line"></span><br><span class="line">    digitalWrite(led1, HIGH); <span class="comment">// turn the LED on (HIGH is the voltage level)</span></span><br><span class="line">    delay(<span class="number">200</span>);               <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led1, LOW);  <span class="comment">// turn the LED off by making the voltage LOW</span></span><br><span class="line">    delay(wait);              <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led2, HIGH); <span class="comment">// turn the LED on (HIGH is the voltage level)</span></span><br><span class="line">    delay(<span class="number">200</span>);               <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led2, LOW);  <span class="comment">// turn the LED off by making the voltage LOW</span></span><br><span class="line">    delay(wait);              <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led3, HIGH); <span class="comment">// turn the LED on (HIGH is the voltage level)</span></span><br><span class="line">    delay(<span class="number">200</span>);               <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led3, LOW);  <span class="comment">// turn the LED off by making the voltage LOW</span></span><br><span class="line">    delay(wait);              <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led4, HIGH); <span class="comment">// turn the LED on (HIGH is the voltage level)</span></span><br><span class="line">    delay(<span class="number">200</span>);               <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led4, LOW);  <span class="comment">// turn the LED off by making the voltage LOW</span></span><br><span class="line">    delay(wait);              <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led5, HIGH); <span class="comment">// turn the LED on (HIGH is the voltage level)</span></span><br><span class="line">    delay(<span class="number">200</span>);               <span class="comment">// wait for a second</span></span><br><span class="line">    digitalWrite(led5, LOW);  <span class="comment">// turn the LED off by making the voltage LOW</span></span><br><span class="line">    delay(wait);              <span class="comment">// wait for a second</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">2</span>; index++) &#123;</span><br><span class="line">        digitalWrite(lanode[index], <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> mychar = <span class="number">0</span>; mychar &lt; <span class="number">9</span>; mychar++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> sindex = <span class="number">0</span>; sindex &lt; <span class="number">9</span>; sindex++) &#123;</span><br><span class="line">                digitalWrite(lamp[sindex], lampvals[mychar][sindex]);</span><br><span class="line">                delay(<span class="number">30</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        digitalWrite(lanode[index], <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sixteenSegWrite</span><span class="params">(<span class="keyword">int</span> digit, <span class="keyword">int</span> character)</span> </span>&#123;</span><br><span class="line">    digitalWrite(anode[digit],<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; <span class="number">17</span>; index++) &#123;</span><br><span class="line">        digitalWrite(segment[index], segmentvals[character][index]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Step-8-More-Software"><a href="#Step-8-More-Software" class="headerlink" title="Step 8: More Software!"></a>Step 8: More Software!</h2><p>第八步：再多一些软件！<br><img src="/images/2018-08/FE72PL9HMFQJEWD.LARGE.jpg" alt=""><br><img src="/images/2018-08/FV4474FHMF6R23U.LARGE.jpg" alt=""><br><img src="/images/2018-08/F0WOJNDHM8D085H.LARGE.jpg" alt=""><br><img src="/images/2018-08/FNWA7V2HMEXWNHT.LARGE.jpg" alt=""><br><img src="/images/2018-08/FXVDU5LHMEXSRP2.LARGE.jpg" alt=""><br><img src="/images/2018-08/FEM6HKTHMF6R23W.LARGE.jpg" alt=""><br><img src="/images/2018-08/F0LV9DXHMFQJEWH.LARGE.jpg" alt=""><br><img src="/images/2018-08/F3FLAQIHMF6R23V.LARGE.jpg" alt=""><br><img src="/images/2018-08/FS9DTJ4HMEXSROL.LARGE.jpg" alt=""></p>
<p>So we first created a function for each mode the Enigma operates in:<br>首先，我们写了个函数，给每个Enigma机工作模式用。<br>In Mode 0, Default Mode, the Enigma is nothing but a simple typewriter with a Marquee that displays its Model Number.<br>在模式0、默认模式，Enigma机仅仅是一台普通打字机，以跑马灯方式显示它的型号。<br>Mode 1 allows the user to select the 3 (out of 8) Rotors he will use along with which one (of the 2) Reflector he wants to use.<br>模式1下，允许用户从八个转子中选取三个，两个反射器中选择一个进行使用。<br>In Mode 2, the user can select the Internal position of each Rotor.<br>模式2下，允许用户排列转子次序。<br>Mode 3 is used to specify the starting (external) position of each Rotor.<br>模式3用于自定义转子初始字母排列。<br>In Mode 4, a user can enter up to 10 Swapped pairs of letters.<br>选择模式4，用户最多可以使用接线板上10对交换字母排列。<br>Mode 5 is Run mode and at that point, the Enigma will encrypt or decrypt any letter typed on the keyboard.<br>模式5是运行模式，此时Enigma机能加解密任何从键盘录入的信息。<br>Here is the Complete sketch that runs the whole Enigma:<br>以下是整个Enigma机工作流程完整程序片段：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* S&amp;T GeoTronics Enigma Code. This Arduino Mega custom shield is programmed to replicate</span></span><br><span class="line"><span class="comment">   exactly the behavior of a true German M4 Enigma machine.</span></span><br><span class="line"><span class="comment">   It uses 4 16-Segment units, 5 LEDs, 26 Lamps setup as keyboard, 26 keyboard buttons</span></span><br><span class="line"><span class="comment">   &amp; 10 Function keys. The 115 light emitting diodes are charlie-plexed to minimize the</span></span><br><span class="line"><span class="comment">   amount of pins needed down to 38 and all 36 pushbuttons keys are sharing a total of 4 pins.</span></span><br><span class="line"><span class="comment">   Designed, assembled &amp; programmed by Marc Tessier &amp; James Sanderson 9/20/13</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// Define the variables</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> time = millis();</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> otime = time;</span><br><span class="line"><span class="keyword">int</span> inpin[<span class="number">4</span>] = &#123; A0, A1, A2, A3 &#125;;</span><br><span class="line"><span class="keyword">int</span> inval[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> keyval = <span class="number">100</span>;</span><br><span class="line">boolean windex = <span class="number">0</span>;</span><br><span class="line">boolean windex1 = <span class="number">0</span>;</span><br><span class="line">boolean windex2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> lampval = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> procesval = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> procesvala = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> mode = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> mtime;</span><br><span class="line"><span class="keyword">int</span> mdex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define each Nixie character</span></span><br><span class="line"><span class="keyword">int</span> dig1 = <span class="number">37</span>;</span><br><span class="line"><span class="keyword">int</span> dig2 = <span class="number">37</span>;</span><br><span class="line"><span class="keyword">int</span> dig3 = <span class="number">37</span>;</span><br><span class="line"><span class="keyword">int</span> dig4 = <span class="number">37</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data[<span class="number">36</span>] = &#123; <span class="number">36</span>,<span class="number">36</span>,<span class="number">36</span>,<span class="number">36</span>,<span class="number">18</span>,<span class="number">39</span>,<span class="number">19</span>,<span class="number">36</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">14</span>,<span class="number">19</span>,<span class="number">17</span>,<span class="number">14</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">18</span>,<span class="number">36</span>,<span class="number">4</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">12</span>,<span class="number">0</span>,<span class="number">36</span>,<span class="number">12</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">10</span>,<span class="number">36</span>,<span class="number">30</span>,<span class="number">36</span>,<span class="number">36</span>,<span class="number">36</span>,<span class="number">36</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the 16-Segments Pins as 2 Arrays</span></span><br><span class="line"><span class="keyword">int</span> segment[<span class="number">17</span>] = &#123; <span class="number">24</span>,<span class="number">22</span>,<span class="number">25</span>,<span class="number">31</span>,<span class="number">38</span>,<span class="number">36</span>,<span class="number">32</span>,<span class="number">30</span>,<span class="number">28</span>,<span class="number">26</span>,<span class="number">23</span>,<span class="number">27</span>,<span class="number">33</span>,<span class="number">35</span>,<span class="number">34</span>,<span class="number">29</span>,<span class="number">37</span> &#125;; <span class="comment">//cathode array</span></span><br><span class="line"><span class="keyword">int</span> anode[<span class="number">4</span>] = &#123; <span class="number">39</span>,<span class="number">41</span>,<span class="number">43</span>,<span class="number">45</span> &#125;; <span class="comment">//annode array commin annode</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the 26 Lamps as a 2D Array</span></span><br><span class="line"><span class="keyword">int</span> lamparray[<span class="number">26</span>][<span class="number">2</span>] = &#123;</span><br><span class="line">    &#123;<span class="number">12</span>,<span class="number">10</span>&#125;, &#123;<span class="number">13</span>,<span class="number">5</span>&#125;, &#123;<span class="number">13</span>,<span class="number">7</span>&#125;, &#123;<span class="number">12</span>,<span class="number">8</span>&#125;, &#123;<span class="number">11</span>,<span class="number">8</span>&#125;, &#123;<span class="number">12</span>,<span class="number">7</span>,&#125;, &#123;<span class="number">12</span>,<span class="number">6</span>&#125;, &#123;<span class="number">12</span>,<span class="number">5</span>&#125;, &#123;<span class="number">11</span>,<span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="number">12</span>,<span class="number">4</span>&#125;, &#123;<span class="number">12</span>,<span class="number">3</span>&#125;, &#123;<span class="number">13</span>,<span class="number">2</span>&#125;, &#123;<span class="number">13</span>,<span class="number">3</span>&#125;, &#123;<span class="number">13</span>,<span class="number">4</span>&#125;, &#123;<span class="number">11</span>,<span class="number">2</span>&#125;, &#123;<span class="number">13</span>,<span class="number">10</span>&#125;, &#123;<span class="number">11</span>,<span class="number">10</span>&#125;, &#123;<span class="number">11</span>,<span class="number">7</span>&#125;,</span><br><span class="line">    &#123;<span class="number">12</span>,<span class="number">9</span>&#125;, &#123;<span class="number">11</span>,<span class="number">6</span>&#125;, &#123;<span class="number">11</span>,<span class="number">4</span>&#125;, &#123;<span class="number">13</span>,<span class="number">6</span>&#125;, &#123;<span class="number">11</span>,<span class="number">9</span>&#125;, &#123;<span class="number">13</span>,<span class="number">8</span>&#125;, &#123;<span class="number">13</span>,<span class="number">9</span>&#125;, &#123;<span class="number">11</span>,<span class="number">5</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  Define the 12 Lamp Pins for initialization</span></span><br><span class="line"><span class="keyword">int</span> lamppin[<span class="number">12</span>] = &#123; <span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span> &#125;; <span class="comment">//2 to 10 cathode, 11 to 13 common annode</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define each LTP587P Segments: A,B,C,D,E,F,G,H,K,M,N,P,R,S,T,U,dp              </span></span><br><span class="line">boolean segmentvals[<span class="number">40</span>][<span class="number">17</span>] = &#123;</span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = A 0</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = B 1</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = C 2</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = D 3</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = E 4</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = F 5</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = G 6</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = H 7</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = I 8</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = J 9</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = K 10</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = L 11</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = M 12</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = N 13</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = O 14</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = P 15</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Q 16</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = R 17</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = S 18</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = T 19</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = U 20</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = V 21</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = W 22</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = X 23</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Y 24</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Z 25</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = 0 26</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = 1 27</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 2 28</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = 3 29</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 4 30</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 5 31</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 6 32</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = 7 33</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 8 34</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = 9 35</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;, <span class="comment">// = Space 36</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;, <span class="comment">// = Full Lit 37</span></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;, <span class="comment">// = SS 38</span></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;  <span class="comment">// = &amp; 39</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// LTP587P Segments: A,B,C,D,E,F,G,H,K,M,N,P,R,S,T,U,dp</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the 5 Mode LEDs</span></span><br><span class="line"><span class="keyword">int</span> led1 = <span class="number">40</span>;</span><br><span class="line"><span class="keyword">int</span> led2 = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">int</span> led3 = <span class="number">44</span>;</span><br><span class="line"><span class="keyword">int</span> led4 = <span class="number">46</span>;</span><br><span class="line"><span class="keyword">int</span> led5 = <span class="number">48</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4,10,12,5,11,6,3,16,21,25,13,19,14,22,24,7,23,20,18,15,0,8,1,17,2,9</span></span><br><span class="line"><span class="comment">//Define the rotor values A B C D E F G H I J K L M N O P Q</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> rotorvals[<span class="number">12</span>][<span class="number">78</span>] = &#123;</span><br><span class="line">    &#123; <span class="number">4</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">5</span>,<span class="number">11</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">16</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">19</span>,<span class="number">14</span>,<span class="number">22</span>,<span class="number">24</span>,<span class="number">7</span>,<span class="number">123</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">15</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">9</span>,</span><br><span class="line">      <span class="number">4</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">5</span>,<span class="number">11</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">16</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">19</span>,<span class="number">14</span>,<span class="number">22</span>,<span class="number">24</span>,<span class="number">7</span>,<span class="number">123</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">15</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">9</span>,</span><br><span class="line">      <span class="number">4</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">5</span>,<span class="number">11</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">16</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">19</span>,<span class="number">14</span>,<span class="number">22</span>,<span class="number">24</span>,<span class="number">7</span>,<span class="number">123</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">15</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">9</span> &#125;, <span class="comment">// wheel 1</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">118</span>,<span class="number">8</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">1</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">22</span>,<span class="number">19</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">16</span>,<span class="number">6</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">24</span>,<span class="number">5</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">4</span>,</span><br><span class="line">      <span class="number">0</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">118</span>,<span class="number">8</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">1</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">22</span>,<span class="number">19</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">16</span>,<span class="number">6</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">24</span>,<span class="number">5</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">4</span>,</span><br><span class="line">      <span class="number">0</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">118</span>,<span class="number">8</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">1</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">22</span>,<span class="number">19</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">16</span>,<span class="number">6</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">24</span>,<span class="number">5</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">4</span> &#125;, <span class="comment">// wheel 2</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">2</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">24</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">22</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">112</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">16</span>,<span class="number">14</span>,</span><br><span class="line">      <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">2</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">24</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">22</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">112</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">16</span>,<span class="number">14</span>,</span><br><span class="line">      <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">2</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">13</span>,<span class="number">24</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">22</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">112</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">16</span>,<span class="number">14</span> &#125;, <span class="comment">// wheel 3</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">4</span>,<span class="number">18</span>,<span class="number">14</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">24</span>,<span class="number">116</span>,<span class="number">20</span>,<span class="number">8</span>,<span class="number">17</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">6</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">12</span>,<span class="number">22</span>,<span class="number">1</span>,</span><br><span class="line">      <span class="number">4</span>,<span class="number">18</span>,<span class="number">14</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">24</span>,<span class="number">116</span>,<span class="number">20</span>,<span class="number">8</span>,<span class="number">17</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">6</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">12</span>,<span class="number">22</span>,<span class="number">1</span>,</span><br><span class="line">      <span class="number">4</span>,<span class="number">18</span>,<span class="number">14</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">24</span>,<span class="number">116</span>,<span class="number">20</span>,<span class="number">8</span>,<span class="number">17</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">6</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">12</span>,<span class="number">22</span>,<span class="number">1</span> &#125;, <span class="comment">// wheel 4</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">21</span>,<span class="number">25</span>,<span class="number">1</span>,<span class="number">17</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">18</span>,<span class="number">3</span>,<span class="number">13</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">0</span>,<span class="number">22</span>,<span class="number">12</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">14</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">110</span>,</span><br><span class="line">      <span class="number">21</span>,<span class="number">25</span>,<span class="number">1</span>,<span class="number">17</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">18</span>,<span class="number">3</span>,<span class="number">13</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">0</span>,<span class="number">22</span>,<span class="number">12</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">14</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">110</span>,</span><br><span class="line">      <span class="number">21</span>,<span class="number">25</span>,<span class="number">1</span>,<span class="number">17</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">18</span>,<span class="number">3</span>,<span class="number">13</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">0</span>,<span class="number">22</span>,<span class="number">12</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">14</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">110</span> &#125;, <span class="comment">// wheel 5</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">9</span>,<span class="number">15</span>,<span class="number">6</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">20</span>,<span class="number">12</span>,<span class="number">5</span>,<span class="number">24</span>,<span class="number">16</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">113</span>,<span class="number">7</span>,<span class="number">25</span>,<span class="number">17</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">18</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">19</span>,<span class="number">122</span>,</span><br><span class="line">      <span class="number">9</span>,<span class="number">15</span>,<span class="number">6</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">20</span>,<span class="number">12</span>,<span class="number">5</span>,<span class="number">24</span>,<span class="number">16</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">113</span>,<span class="number">7</span>,<span class="number">25</span>,<span class="number">17</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">18</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">19</span>,<span class="number">122</span>,</span><br><span class="line">      <span class="number">9</span>,<span class="number">15</span>,<span class="number">6</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">20</span>,<span class="number">12</span>,<span class="number">5</span>,<span class="number">24</span>,<span class="number">16</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">113</span>,<span class="number">7</span>,<span class="number">25</span>,<span class="number">17</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">18</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">19</span>,<span class="number">122</span> &#125;, <span class="comment">// wheel 6</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">13</span>,<span class="number">25</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">24</span>,<span class="number">18</span>,<span class="number">22</span>,<span class="number">101</span>,<span class="number">14</span>,<span class="number">20</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">21</span>,<span class="number">11</span>,<span class="number">15</span>,<span class="number">4</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">3</span>,<span class="number">119</span>,</span><br><span class="line">      <span class="number">13</span>,<span class="number">25</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">24</span>,<span class="number">18</span>,<span class="number">22</span>,<span class="number">101</span>,<span class="number">14</span>,<span class="number">20</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">21</span>,<span class="number">11</span>,<span class="number">15</span>,<span class="number">4</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">3</span>,<span class="number">119</span>,</span><br><span class="line">      <span class="number">13</span>,<span class="number">25</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">24</span>,<span class="number">18</span>,<span class="number">22</span>,<span class="number">101</span>,<span class="number">14</span>,<span class="number">20</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">21</span>,<span class="number">11</span>,<span class="number">15</span>,<span class="number">4</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">3</span>,<span class="number">119</span> &#125;, <span class="comment">// wheel 7</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">5</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">7</span>,<span class="number">19</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">14</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">18</span>,<span class="number">115</span>,<span class="number">3</span>,<span class="number">25</span>,<span class="number">17</span>,<span class="number">0</span>,<span class="number">12</span>,<span class="number">4</span>,<span class="number">22</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">6</span>,<span class="number">121</span>,</span><br><span class="line">      <span class="number">5</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">7</span>,<span class="number">19</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">14</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">18</span>,<span class="number">115</span>,<span class="number">3</span>,<span class="number">25</span>,<span class="number">17</span>,<span class="number">0</span>,<span class="number">12</span>,<span class="number">4</span>,<span class="number">22</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">6</span>,<span class="number">121</span>,</span><br><span class="line">      <span class="number">5</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">7</span>,<span class="number">19</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">14</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">18</span>,<span class="number">115</span>,<span class="number">3</span>,<span class="number">25</span>,<span class="number">17</span>,<span class="number">0</span>,<span class="number">12</span>,<span class="number">4</span>,<span class="number">22</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">6</span>,<span class="number">121</span> &#125;, <span class="comment">// wheel 8</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">11</span>,<span class="number">4</span>,<span class="number">24</span>,<span class="number">9</span>,<span class="number">21</span>,<span class="number">2</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">23</span>,<span class="number">22</span>,<span class="number">15</span>,<span class="number">1</span>,<span class="number">16</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">20</span>,<span class="number">7</span>,<span class="number">14</span>,<span class="number">18</span>,</span><br><span class="line">      <span class="number">11</span>,<span class="number">4</span>,<span class="number">24</span>,<span class="number">9</span>,<span class="number">21</span>,<span class="number">2</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">23</span>,<span class="number">22</span>,<span class="number">15</span>,<span class="number">1</span>,<span class="number">16</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">20</span>,<span class="number">7</span>,<span class="number">14</span>,<span class="number">18</span>,</span><br><span class="line">      <span class="number">11</span>,<span class="number">4</span>,<span class="number">24</span>,<span class="number">9</span>,<span class="number">21</span>,<span class="number">2</span>,<span class="number">13</span>,<span class="number">8</span>,<span class="number">23</span>,<span class="number">22</span>,<span class="number">15</span>,<span class="number">1</span>,<span class="number">16</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">20</span>,<span class="number">7</span>,<span class="number">14</span>,<span class="number">18</span> &#125;, <span class="comment">// Beta</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">5</span>,<span class="number">18</span>,<span class="number">14</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">20</span>,<span class="number">4</span>,<span class="number">17</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">1</span>,<span class="number">19</span>,<span class="number">8</span>,<span class="number">24</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">11</span>,<span class="number">16</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">3</span>,</span><br><span class="line">      <span class="number">5</span>,<span class="number">18</span>,<span class="number">14</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">20</span>,<span class="number">4</span>,<span class="number">17</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">1</span>,<span class="number">19</span>,<span class="number">8</span>,<span class="number">24</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">11</span>,<span class="number">16</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">3</span>,</span><br><span class="line">      <span class="number">5</span>,<span class="number">18</span>,<span class="number">14</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">20</span>,<span class="number">4</span>,<span class="number">17</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">1</span>,<span class="number">19</span>,<span class="number">8</span>,<span class="number">24</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">11</span>,<span class="number">16</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">3</span> &#125;, <span class="comment">// Gamma</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">4</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">0</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">22</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">1</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">23</span>,<span class="number">25</span>,<span class="number">21</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">7</span>,<span class="number">17</span>,<span class="number">6</span>,<span class="number">18</span>,</span><br><span class="line">      <span class="number">4</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">0</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">22</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">1</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">23</span>,<span class="number">25</span>,<span class="number">21</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">7</span>,<span class="number">17</span>,<span class="number">6</span>,<span class="number">18</span>,</span><br><span class="line">      <span class="number">4</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">16</span>,<span class="number">0</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">22</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">1</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">23</span>,<span class="number">25</span>,<span class="number">21</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">7</span>,<span class="number">17</span>,<span class="number">6</span>,<span class="number">18</span>&#125;, <span class="comment">// = UKW-B</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">17</span>,<span class="number">3</span>,<span class="number">14</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">19</span>,<span class="number">10</span>,<span class="number">21</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">25</span>,<span class="number">0</span>,<span class="number">23</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">8</span>,<span class="number">15</span>,<span class="number">18</span>,<span class="number">20</span>,<span class="number">16</span>,</span><br><span class="line">      <span class="number">17</span>,<span class="number">3</span>,<span class="number">14</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">19</span>,<span class="number">10</span>,<span class="number">21</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">25</span>,<span class="number">0</span>,<span class="number">23</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">8</span>,<span class="number">15</span>,<span class="number">18</span>,<span class="number">20</span>,<span class="number">16</span>,</span><br><span class="line">      <span class="number">17</span>,<span class="number">3</span>,<span class="number">14</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">19</span>,<span class="number">10</span>,<span class="number">21</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">25</span>,<span class="number">0</span>,<span class="number">23</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">8</span>,<span class="number">15</span>,<span class="number">18</span>,<span class="number">20</span>,<span class="number">16</span> &#125; <span class="comment">// = UKW-C</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> rotorvali[<span class="number">10</span>][<span class="number">78</span>] = &#123;</span><br><span class="line">    &#123; <span class="number">20</span>,<span class="number">22</span>,<span class="number">24</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">15</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">19</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">18</span>,<span class="number">11</span>,<span class="number">17</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">16</span>,<span class="number">14</span>,<span class="number">9</span>,</span><br><span class="line">      <span class="number">20</span>,<span class="number">22</span>,<span class="number">24</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">15</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">19</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">18</span>,<span class="number">11</span>,<span class="number">17</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">16</span>,<span class="number">14</span>,<span class="number">9</span>,</span><br><span class="line">      <span class="number">20</span>,<span class="number">22</span>,<span class="number">24</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">15</span>,<span class="number">21</span>,<span class="number">25</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">19</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">18</span>,<span class="number">11</span>,<span class="number">17</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">16</span>,<span class="number">14</span>,<span class="number">9</span> &#125;, <span class="comment">//wheel 1 i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">9</span>,<span class="number">15</span>,<span class="number">2</span>,<span class="number">25</span>,<span class="number">22</span>,<span class="number">17</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">14</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">20</span>,<span class="number">16</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">13</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">8</span>,<span class="number">21</span>,<span class="number">18</span>,</span><br><span class="line">      <span class="number">0</span>,<span class="number">9</span>,<span class="number">15</span>,<span class="number">2</span>,<span class="number">25</span>,<span class="number">22</span>,<span class="number">17</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">14</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">20</span>,<span class="number">16</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">13</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">8</span>,<span class="number">21</span>,<span class="number">18</span>,</span><br><span class="line">      <span class="number">0</span>,<span class="number">9</span>,<span class="number">15</span>,<span class="number">2</span>,<span class="number">25</span>,<span class="number">22</span>,<span class="number">17</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">14</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">20</span>,<span class="number">16</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">13</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">8</span>,<span class="number">21</span>,<span class="number">18</span> &#125;, <span class="comment">//wheel 2 i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">19</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">15</span>,<span class="number">2</span>,<span class="number">18</span>,<span class="number">3</span>,<span class="number">16</span>,<span class="number">4</span>,<span class="number">20</span>,<span class="number">5</span>,<span class="number">21</span>,<span class="number">13</span>,<span class="number">25</span>,<span class="number">7</span>,<span class="number">24</span>,<span class="number">8</span>,<span class="number">23</span>,<span class="number">9</span>,<span class="number">22</span>,<span class="number">11</span>,<span class="number">17</span>,<span class="number">10</span>,<span class="number">14</span>,<span class="number">12</span>,</span><br><span class="line">      <span class="number">19</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">15</span>,<span class="number">2</span>,<span class="number">18</span>,<span class="number">3</span>,<span class="number">16</span>,<span class="number">4</span>,<span class="number">20</span>,<span class="number">5</span>,<span class="number">21</span>,<span class="number">13</span>,<span class="number">25</span>,<span class="number">7</span>,<span class="number">24</span>,<span class="number">8</span>,<span class="number">23</span>,<span class="number">9</span>,<span class="number">22</span>,<span class="number">11</span>,<span class="number">17</span>,<span class="number">10</span>,<span class="number">14</span>,<span class="number">12</span>,</span><br><span class="line">      <span class="number">19</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">15</span>,<span class="number">2</span>,<span class="number">18</span>,<span class="number">3</span>,<span class="number">16</span>,<span class="number">4</span>,<span class="number">20</span>,<span class="number">5</span>,<span class="number">21</span>,<span class="number">13</span>,<span class="number">25</span>,<span class="number">7</span>,<span class="number">24</span>,<span class="number">8</span>,<span class="number">23</span>,<span class="number">9</span>,<span class="number">22</span>,<span class="number">11</span>,<span class="number">17</span>,<span class="number">10</span>,<span class="number">14</span>,<span class="number">12</span> &#125;, <span class="comment">//wheel 3 i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">7</span>,<span class="number">25</span>,<span class="number">22</span>,<span class="number">21</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">13</span>,<span class="number">11</span>,<span class="number">6</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">23</span>,<span class="number">16</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">1</span>,<span class="number">18</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">24</span>,<span class="number">14</span>,<span class="number">8</span>,<span class="number">5</span>,</span><br><span class="line">      <span class="number">7</span>,<span class="number">25</span>,<span class="number">22</span>,<span class="number">21</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">13</span>,<span class="number">11</span>,<span class="number">6</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">23</span>,<span class="number">16</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">1</span>,<span class="number">18</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">24</span>,<span class="number">14</span>,<span class="number">8</span>,<span class="number">5</span>,</span><br><span class="line">      <span class="number">7</span>,<span class="number">25</span>,<span class="number">22</span>,<span class="number">21</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">13</span>,<span class="number">11</span>,<span class="number">6</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">23</span>,<span class="number">16</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">1</span>,<span class="number">18</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">24</span>,<span class="number">14</span>,<span class="number">8</span>,<span class="number">5</span> &#125;, <span class="comment">//wheel 4 i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">16</span>,<span class="number">2</span>,<span class="number">24</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">22</span>,<span class="number">4</span>,<span class="number">13</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">25</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">12</span>,<span class="number">21</span>,<span class="number">9</span>,<span class="number">20</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">15</span>,<span class="number">7</span>,<span class="number">1</span>,</span><br><span class="line">      <span class="number">16</span>,<span class="number">2</span>,<span class="number">24</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">22</span>,<span class="number">4</span>,<span class="number">13</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">25</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">12</span>,<span class="number">21</span>,<span class="number">9</span>,<span class="number">20</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">15</span>,<span class="number">7</span>,<span class="number">1</span>,</span><br><span class="line">      <span class="number">16</span>,<span class="number">2</span>,<span class="number">24</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">22</span>,<span class="number">4</span>,<span class="number">13</span>,<span class="number">5</span>,<span class="number">19</span>,<span class="number">25</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">12</span>,<span class="number">21</span>,<span class="number">9</span>,<span class="number">20</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">15</span>,<span class="number">7</span>,<span class="number">1</span> &#125;, <span class="comment">//wheel 5 i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">18</span>,<span class="number">10</span>,<span class="number">23</span>,<span class="number">16</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">13</span>,<span class="number">22</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">21</span>,<span class="number">06</span>,<span class="number">12</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">15</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">25</span>,<span class="number">20</span>,<span class="number">8</span>,<span class="number">14</span>,</span><br><span class="line">      <span class="number">18</span>,<span class="number">10</span>,<span class="number">23</span>,<span class="number">16</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">13</span>,<span class="number">22</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">21</span>,<span class="number">06</span>,<span class="number">12</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">15</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">25</span>,<span class="number">20</span>,<span class="number">8</span>,<span class="number">14</span>,</span><br><span class="line">      <span class="number">18</span>,<span class="number">10</span>,<span class="number">23</span>,<span class="number">16</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">13</span>,<span class="number">22</span>,<span class="number">0</span>,<span class="number">17</span>,<span class="number">21</span>,<span class="number">06</span>,<span class="number">12</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">15</span>,<span class="number">19</span>,<span class="number">24</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">25</span>,<span class="number">20</span>,<span class="number">8</span>,<span class="number">14</span> &#125;, <span class="comment">//wheel 6 i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">16</span>,<span class="number">12</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">19</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">25</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,</span><br><span class="line">      <span class="number">16</span>,<span class="number">12</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">19</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">25</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,</span><br><span class="line">      <span class="number">16</span>,<span class="number">12</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">19</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">25</span>,<span class="number">14</span>,<span class="number">18</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span> &#125;, <span class="comment">//wheel 7 i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">16</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">18</span>,<span class="number">0</span>,<span class="number">24</span>,<span class="number">3</span>,<span class="number">21</span>,<span class="number">10</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">15</span>,<span class="number">11</span>,<span class="number">4</span>,<span class="number">22</span>,<span class="number">25</span>,<span class="number">19</span>,<span class="number">6</span>,<span class="number">23</span>,<span class="number">14</span>,</span><br><span class="line">      <span class="number">16</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">18</span>,<span class="number">0</span>,<span class="number">24</span>,<span class="number">3</span>,<span class="number">21</span>,<span class="number">10</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">15</span>,<span class="number">11</span>,<span class="number">4</span>,<span class="number">22</span>,<span class="number">25</span>,<span class="number">19</span>,<span class="number">6</span>,<span class="number">23</span>,<span class="number">14</span>,</span><br><span class="line">      <span class="number">16</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">18</span>,<span class="number">0</span>,<span class="number">24</span>,<span class="number">3</span>,<span class="number">21</span>,<span class="number">10</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">7</span>,<span class="number">12</span>,<span class="number">2</span>,<span class="number">15</span>,<span class="number">11</span>,<span class="number">4</span>,<span class="number">22</span>,<span class="number">25</span>,<span class="number">19</span>,<span class="number">6</span>,<span class="number">23</span>,<span class="number">14</span> &#125;, <span class="comment">//wheel 8 i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">17</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">14</span>,<span class="number">1</span>,<span class="number">21</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">18</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">16</span>,<span class="number">22</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">19</span>,</span><br><span class="line">      <span class="number">17</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">14</span>,<span class="number">1</span>,<span class="number">21</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">18</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">16</span>,<span class="number">22</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">19</span>,</span><br><span class="line">      <span class="number">17</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">14</span>,<span class="number">1</span>,<span class="number">21</span>,<span class="number">20</span>,<span class="number">23</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">18</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">16</span>,<span class="number">22</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">19</span> &#125;, <span class="comment">//Beta i</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="number">4</span>,<span class="number">11</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">23</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">24</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">19</span>,<span class="number">18</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">12</span>,<span class="number">6</span>,<span class="number">22</span>,<span class="number">16</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">20</span>,</span><br><span class="line">      <span class="number">4</span>,<span class="number">11</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">23</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">24</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">19</span>,<span class="number">18</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">12</span>,<span class="number">6</span>,<span class="number">22</span>,<span class="number">16</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">20</span>,</span><br><span class="line">      <span class="number">4</span>,<span class="number">11</span>,<span class="number">15</span>,<span class="number">25</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">23</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">24</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">19</span>,<span class="number">18</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">12</span>,<span class="number">6</span>,<span class="number">22</span>,<span class="number">16</span>,<span class="number">21</span>,<span class="number">14</span>,<span class="number">20</span> &#125; <span class="comment">//Gamma i</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define a 2D Array for keeping the wheel locations &amp; positions</span></span><br><span class="line"><span class="keyword">int</span> wheel[<span class="number">3</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">    &#123;<span class="number">26</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, &#123;<span class="number">26</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, &#123;<span class="number">26</span>,<span class="number">0</span>,<span class="number">0</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> reflect[<span class="number">2</span>] = &#123;<span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define Array for plugbord values 25 x2 position 0 holds use position 1 holds value int plugu holds the total nomber of plugs used (10 max)</span></span><br><span class="line"><span class="keyword">int</span> plugval[<span class="number">2</span>][<span class="number">26</span>] = &#123;</span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;,</span><br><span class="line">    &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">25</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> pluguse = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> paindex = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> pbindex = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// Initialize all 38 LED pins as Output </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">11</span>; index++) &#123;</span><br><span class="line">        pinMode(lamppin[index], OUTPUT);</span><br><span class="line">        digitalWrite(lamppin[index],<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">3</span>; index++) &#123;</span><br><span class="line">        pinMode(anode[index], OUTPUT);</span><br><span class="line">        digitalWrite(anode[index], <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">16</span>; index++) &#123;</span><br><span class="line">        pinMode(segment[index], OUTPUT);</span><br><span class="line">        digitalWrite(segment[index], <span class="number">1</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    pinMode(led1, OUTPUT);</span><br><span class="line">    pinMode(led2, OUTPUT);</span><br><span class="line">    pinMode(led3, OUTPUT);</span><br><span class="line">    pinMode(led4, OUTPUT);</span><br><span class="line">    pinMode(led5, OUTPUT);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Serial.begin(9600);</span></span><br><span class="line"><span class="comment">// Initialize all 4 pusbutton pins as Input   </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">3</span>; index++) &#123;</span><br><span class="line">        pinMode(inpin[index], INPUT);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// Keyboard debounce &amp; test for new key pressed </span></span><br><span class="line">    time = millis();</span><br><span class="line">    <span class="keyword">if</span> (time &gt; otime + <span class="number">500</span>) keyval = readkbde();</span><br><span class="line">    <span class="keyword">if</span> ((keyval == <span class="number">45</span>) &amp;&amp; (windex == <span class="number">1</span>)) modeselect();</span><br><span class="line"><span class="comment">// The whole Enigma machine operation revolves around which Operating Mode is current </span></span><br><span class="line">    <span class="keyword">if</span> (mode == <span class="number">0</span>) mode0();</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (mode == <span class="number">1</span>) mode1();</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (mode == <span class="number">2</span>) mode2();</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (mode == <span class="number">3</span>) mode3();</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (mode == <span class="number">4</span>) mode4();</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (mode == <span class="number">5</span>) mode5();</span><br><span class="line">    <span class="keyword">else</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Serial.println(keyval); // for debuging prints keybord value to serial monitor// for run or del</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This function takes care of figuring out which key has been pressed &amp; returns a unique Integer</span></span><br><span class="line"><span class="keyword">int</span> readkbde() &#123;</span><br><span class="line">    <span class="keyword">int</span> kval = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">3</span>; index++) &#123;</span><br><span class="line">        inval[index] = analogRead(inpin[index]);</span><br><span class="line">    &#125; <span class="comment">//Reads analog input values</span></span><br><span class="line">    <span class="keyword">if</span> ((inval[<span class="number">0</span>] &gt; <span class="number">925</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">828</span>) &amp;&amp; (inval[<span class="number">2</span>] &gt; <span class="number">730</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">828</span>)) kval = <span class="number">100</span>; <span class="comment">// no key press</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">924</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">915</span>)) kval = <span class="number">49</span>; <span class="comment">//up arrow 4</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">914</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">903</span>)) kval = <span class="number">48</span>; <span class="comment">//up arrow 3</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">902</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">887</span>)) kval = <span class="number">47</span>; <span class="comment">//up arrow 2</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">886</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">865</span>)) kval = <span class="number">46</span>; <span class="comment">//up arrow 1</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">864</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">836</span>)) kval = <span class="number">45</span>; <span class="comment">//mode</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">834</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">793</span>)) kval = <span class="number">44</span>; <span class="comment">//enter</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">792</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">724</span>)) kval = <span class="number">43</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">723</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">594</span>)) kval = <span class="number">42</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">0</span>] &lt; <span class="number">593</span>) &amp;&amp; (inval[<span class="number">0</span>] &gt; <span class="number">260</span>)) kval = <span class="number">41</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (inval[<span class="number">0</span>] &lt; <span class="number">259</span>) kval = <span class="number">40</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">1</span>] &lt; <span class="number">827</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">807</span>)) kval = <span class="number">14</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">1</span>] &lt; <span class="number">806</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">781</span>)) kval = <span class="number">8</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">1</span>] &lt; <span class="number">780</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">749</span>)) kval = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">1</span>] &lt; <span class="number">748</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">706</span>)) kval = <span class="number">25</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">1</span>] &lt; <span class="number">705</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">647</span>)) kval = <span class="number">19</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">1</span>] &lt; <span class="number">646</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">555</span>)) kval = <span class="number">17</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">1</span>] &lt; <span class="number">554</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">418</span>)) kval = <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">1</span>] &lt; <span class="number">417</span>) &amp;&amp; (inval[<span class="number">1</span>] &gt; <span class="number">169</span>)) kval = <span class="number">22</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (inval[<span class="number">1</span>] &lt; <span class="number">168</span>) kval = <span class="number">16</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">2</span>] &lt; <span class="number">729</span>) &amp;&amp; (inval[<span class="number">2</span>] &gt; <span class="number">699</span>)) kval = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">2</span>] &lt; <span class="number">698</span>) &amp;&amp; (inval[<span class="number">2</span>] &gt; <span class="number">660</span>)) kval = <span class="number">9</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">2</span>] &lt; <span class="number">659</span>) &amp;&amp; (inval[<span class="number">2</span>] &gt; <span class="number">611</span>)) kval = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">2</span>] &lt; <span class="number">610</span>) &amp;&amp; (inval[<span class="number">2</span>] &gt; <span class="number">547</span>)) kval = <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">2</span>] &lt; <span class="number">546</span>) &amp;&amp; (inval[<span class="number">2</span>] &gt; <span class="number">455</span>)) kval = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">2</span>] &lt; <span class="number">454</span>) &amp;&amp; (inval[<span class="number">2</span>] &gt; <span class="number">331</span>)) kval = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">2</span>] &lt; <span class="number">330</span>) &amp;&amp; (inval[<span class="number">2</span>] &gt; <span class="number">127</span>)) kval = <span class="number">18</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (inval[<span class="number">2</span>] &lt; <span class="number">126</span>) kval = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">3</span>] &lt; <span class="number">827</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">807</span>)) kval = <span class="number">11</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">3</span>] &lt; <span class="number">806</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">781</span>)) kval = <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">3</span>] &lt; <span class="number">780</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">749</span>)) kval = <span class="number">13</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">3</span>] &lt; <span class="number">748</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">706</span>)) kval = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">3</span>] &lt; <span class="number">705</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">647</span>)) kval = <span class="number">21</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">3</span>] &lt; <span class="number">646</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">555</span>)) kval = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">3</span>] &lt; <span class="number">554</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">418</span>)) kval = <span class="number">23</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((inval[<span class="number">3</span>] &lt; <span class="number">417</span>) &amp;&amp; (inval[<span class="number">3</span>] &gt; <span class="number">169</span>)) kval = <span class="number">24</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (inval[<span class="number">3</span>] &lt; <span class="number">169</span>) kval = <span class="number">15</span>;</span><br><span class="line">    <span class="keyword">else</span> kval = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">if</span> (kval &lt; <span class="number">99</span>) otime = millis(); <span class="comment">// Starts key debounce timer</span></span><br><span class="line">    <span class="keyword">if</span> ((kval &gt;= <span class="number">0</span>) &amp;&amp; (kval &lt;= <span class="number">99</span>)) windex = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// windex showing true (1) indicates the return of a fresh key stroke</span></span><br><span class="line">    <span class="keyword">return</span> kval;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function to change operating Mode</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">modeselect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    mode++;</span><br><span class="line">    <span class="keyword">if</span> (mode &gt;= <span class="number">6</span>) mode = <span class="number">0</span>;</span><br><span class="line">    windex = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Default Mode: Enigma is a Typewriter</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mode0</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((keyval &gt;= <span class="number">0</span>) &amp;&amp; (keyval &lt;= <span class="number">25</span>)) lampval = keyval;</span><br><span class="line">    lampita();</span><br><span class="line">    marquee();</span><br><span class="line">    lampitb();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Select the Rotors &amp; the Reflector </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mode1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line">    digitalWrite(led1, HIGH);</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((keyval == <span class="number">43</span>) || (keyval == <span class="number">46</span>)) &#123;</span><br><span class="line">            reflect[<span class="number">0</span>]++;</span><br><span class="line">            <span class="keyword">if</span> (reflect[<span class="number">0</span>] &gt; <span class="number">2</span>) &#123;</span><br><span class="line">                reflect[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            windex = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">47</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (index = wheel[<span class="number">2</span>][<span class="number">0</span>]; (index == wheel[<span class="number">1</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">0</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">2</span>][<span class="number">0</span>]); index++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &gt; <span class="number">33</span>) index = <span class="number">26</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            wheel[<span class="number">2</span>][<span class="number">0</span>] = index;</span><br><span class="line">            windex = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">48</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (index = wheel[<span class="number">1</span>][<span class="number">0</span>]; (index == wheel[<span class="number">2</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">0</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">1</span>][<span class="number">0</span>]); index++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &gt; <span class="number">33</span>) index = <span class="number">26</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            wheel[<span class="number">1</span>][<span class="number">0</span>] = index;</span><br><span class="line">            windex = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">49</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (index = wheel[<span class="number">0</span>][<span class="number">0</span>]; (index == wheel[<span class="number">2</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">1</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">0</span>][<span class="number">0</span>]); index++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &gt; <span class="number">33</span>) index = <span class="number">26</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            wheel[<span class="number">0</span>][<span class="number">0</span>] = index;</span><br><span class="line">            windex = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">42</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (index = wheel[<span class="number">2</span>][<span class="number">0</span>]; (index == wheel[<span class="number">1</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">0</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">2</span>][<span class="number">0</span>]); index--) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &lt; <span class="number">28</span>) index = <span class="number">35</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            wheel[<span class="number">2</span>][<span class="number">0</span>] = index;</span><br><span class="line">            windex = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">41</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (index = wheel[<span class="number">1</span>][<span class="number">0</span>]; (index == wheel[<span class="number">2</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">0</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">1</span>][<span class="number">0</span>]); index--) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &lt; <span class="number">28</span>) index = <span class="number">35</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            wheel[<span class="number">1</span>][<span class="number">0</span>] = index;</span><br><span class="line">            windex = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">40</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (index = wheel[<span class="number">0</span>][<span class="number">0</span>]; (index == wheel[<span class="number">2</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">1</span>][<span class="number">0</span>]) || (index == wheel[<span class="number">0</span>][<span class="number">0</span>]); index--) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &lt; <span class="number">28</span>) index = <span class="number">35</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            wheel[<span class="number">0</span>][<span class="number">0</span>] = index;</span><br><span class="line">            windex = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dig1 = reflect[<span class="number">0</span>]; dig2 = wheel[<span class="number">2</span>][<span class="number">0</span>];  dig3 = wheel[<span class="number">1</span>][<span class="number">0</span>]; dig4 = wheel[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    nixisend();</span><br><span class="line">    dig1 = <span class="number">37</span>; dig2 = <span class="number">37</span>; dig3 = <span class="number">37</span>; dig4 = <span class="number">37</span>;</span><br><span class="line">    digitalWrite(led1, LOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Position the Inner setting of each Rotor </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mode2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    digitalWrite(led2, HIGH);</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">47</span>) &#123; wheel[<span class="number">2</span>][<span class="number">1</span>]++; <span class="keyword">if</span> (wheel[<span class="number">2</span>][<span class="number">1</span>] &gt; <span class="number">25</span>) wheel[<span class="number">2</span>][<span class="number">1</span>] = <span class="number">0</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">48</span>) &#123; wheel[<span class="number">1</span>][<span class="number">1</span>]++; <span class="keyword">if</span> (wheel[<span class="number">1</span>][<span class="number">1</span>] &gt; <span class="number">25</span>) wheel[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">0</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">49</span>) &#123; wheel[<span class="number">0</span>][<span class="number">1</span>]++; <span class="keyword">if</span> (wheel[<span class="number">0</span>][<span class="number">1</span>] &gt; <span class="number">25</span>) wheel[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">0</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">42</span>) &#123; wheel[<span class="number">2</span>][<span class="number">1</span>]--; <span class="keyword">if</span> (wheel[<span class="number">2</span>][<span class="number">1</span>] &lt; <span class="number">0</span>) wheel[<span class="number">2</span>][<span class="number">1</span>] = <span class="number">25</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">41</span>) &#123; wheel[<span class="number">1</span>][<span class="number">1</span>]--; <span class="keyword">if</span> (wheel[<span class="number">1</span>][<span class="number">1</span>] &lt; <span class="number">0</span>) wheel[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">25</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">40</span>) &#123; wheel[<span class="number">0</span>][<span class="number">1</span>]--; <span class="keyword">if</span> (wheel[<span class="number">0</span>][<span class="number">1</span>] &lt; <span class="number">0</span>) wheel[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">25</span>; &#125;</span><br><span class="line">        windex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dig2 = wheel[<span class="number">2</span>][<span class="number">1</span>]; dig3 = wheel[<span class="number">1</span>][<span class="number">1</span>]; dig4 = wheel[<span class="number">0</span>][<span class="number">1</span>]; dig1 = <span class="number">0</span>;</span><br><span class="line">    nixisend();</span><br><span class="line">    dig1 = <span class="number">37</span>; dig2 = <span class="number">37</span>; dig3 = <span class="number">37</span>; dig4 = <span class="number">37</span>;</span><br><span class="line">    digitalWrite(led2, LOW);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Position the Start character of each Wheel </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mode3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    digitalWrite(led3, HIGH);</span><br><span class="line">    <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">46</span>) &#123; reflect[<span class="number">1</span>]++; <span class="keyword">if</span> (reflect[<span class="number">1</span>] &gt; <span class="number">25</span>) reflect[<span class="number">1</span>] = <span class="number">0</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">47</span>) &#123; wheel[<span class="number">2</span>][<span class="number">2</span>]++; <span class="keyword">if</span> (wheel[<span class="number">2</span>][<span class="number">2</span>] &gt; <span class="number">25</span>) wheel[<span class="number">2</span>][<span class="number">2</span>] = <span class="number">0</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">48</span>) &#123; wheel[<span class="number">1</span>][<span class="number">2</span>]++; <span class="keyword">if</span> (wheel[<span class="number">1</span>][<span class="number">2</span>] &gt; <span class="number">25</span>) wheel[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">0</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">49</span>) &#123; wheel[<span class="number">0</span>][<span class="number">2</span>]++; <span class="keyword">if</span> (wheel[<span class="number">0</span>][<span class="number">2</span>] &gt; <span class="number">25</span>) wheel[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">0</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">43</span>) &#123; reflect[<span class="number">1</span>]--; <span class="keyword">if</span> (reflect[<span class="number">1</span>] &lt; <span class="number">0</span>) reflect[<span class="number">1</span>] = <span class="number">25</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">42</span>) &#123; wheel[<span class="number">2</span>][<span class="number">2</span>]--; <span class="keyword">if</span> (wheel[<span class="number">2</span>][<span class="number">2</span>] &lt; <span class="number">0</span>) wheel[<span class="number">2</span>][<span class="number">2</span>] = <span class="number">25</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">41</span>) &#123; wheel[<span class="number">1</span>][<span class="number">2</span>]--; <span class="keyword">if</span> (wheel[<span class="number">1</span>][<span class="number">2</span>] &lt; <span class="number">0</span>) wheel[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">25</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (keyval == <span class="number">40</span>) &#123; wheel[<span class="number">0</span>][<span class="number">2</span>]--; <span class="keyword">if</span> (wheel[<span class="number">0</span>][<span class="number">2</span>] &lt; <span class="number">0</span>) wheel[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">25</span>; &#125;</span><br><span class="line">        windex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dig1 = reflect[<span class="number">1</span>]; dig2 = wheel[<span class="number">2</span>][<span class="number">2</span>]; dig3 = wheel[<span class="number">1</span>][<span class="number">2</span>]; dig4 = wheel[<span class="number">0</span>][<span class="number">2</span>];</span><br><span class="line">    nixisend();</span><br><span class="line">    dig1 = <span class="number">37</span>; dig2 = <span class="number">37</span>; dig3 = <span class="number">37</span>; dig4 = <span class="number">37</span>;</span><br><span class="line">    digitalWrite(led3, LOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the Plugboard pairs </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mode4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    digitalWrite(led4, HIGH);</span><br><span class="line">    <span class="keyword">if</span> (pluguse &lt;= <span class="number">9</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (plugval[<span class="number">0</span>][paindex] == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (index = paindex;(index == paindex) || (index == pbindex) || (plugval[<span class="number">0</span>][index] == <span class="number">1</span>); index++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &gt; <span class="number">24</span>) index = <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            paindex = index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (plugval[<span class="number">0</span>][pbindex] == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (index = pbindex;(index == pbindex) || (index == paindex) || (plugval[<span class="number">0</span>][index] == <span class="number">1</span>); index++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &gt; <span class="number">24</span>) index = <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pbindex = index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (windex == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (keyval == <span class="number">46</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (index = paindex;(index == paindex) || (index == pbindex) || (plugval[<span class="number">0</span>][index] == <span class="number">1</span>); index++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (index &gt; <span class="number">24</span>) index = <span class="number">-1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                paindex = index;</span><br><span class="line">                windex = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (keyval == <span class="number">43</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (index = paindex;(index == paindex) || (index == pbindex) || (plugval[<span class="number">0</span>][index] == <span class="number">1</span>); index--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (index &lt; <span class="number">1</span>) index = <span class="number">26</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                paindex = index;</span><br><span class="line">                windex = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (keyval == <span class="number">49</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (index = pbindex;(index == pbindex) || (index == paindex) || (plugval[<span class="number">0</span>][index] == <span class="number">1</span>); index++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (index &gt; <span class="number">24</span>) index = <span class="number">-1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                pbindex = index;</span><br><span class="line">                windex = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (keyval == <span class="number">40</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (index = pbindex;(index == pbindex) || (index == paindex) || (plugval[<span class="number">0</span>][index] == <span class="number">1</span>); index--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (index &lt; <span class="number">1</span>) index = <span class="number">26</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                pbindex = index;</span><br><span class="line">                windex = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (keyval == <span class="number">44</span>) &#123;</span><br><span class="line">                plugval[<span class="number">0</span>][paindex] = <span class="number">1</span>;</span><br><span class="line">                plugval[<span class="number">1</span>][paindex] = pbindex;</span><br><span class="line">                plugval[<span class="number">0</span>][pbindex] = <span class="number">1</span>;</span><br><span class="line">                plugval[<span class="number">1</span>][pbindex] = paindex;</span><br><span class="line">                windex = <span class="number">0</span>;</span><br><span class="line">                pluguse++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dig1 = paindex; dig2 = <span class="number">19</span>; dig3 = <span class="number">14</span>; dig4 = pbindex;</span><br><span class="line">        nixisend();</span><br><span class="line">        dig1 = <span class="number">37</span>; dig2 = <span class="number">37</span>; dig3 = <span class="number">37</span>; dig4 = <span class="number">37</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> done();</span><br><span class="line">    digitalWrite(led4, LOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is Normal Operation Mode to Encrypt/Decrypt </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mode5</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pv = <span class="number">0</span>;</span><br><span class="line">    digitalWrite(led5, HIGH);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((keyval &gt;= <span class="number">0</span>) &amp;&amp; (keyval &lt;= <span class="number">25</span>) &amp;&amp; (windex == <span class="number">1</span>)) &#123;</span><br><span class="line">        procesvala = keyval;</span><br><span class="line">        indexwheels();</span><br><span class="line">    &#125;</span><br><span class="line">    windex = <span class="number">0</span>;</span><br><span class="line">    procesval = procesvala;</span><br><span class="line">    procesval = plugval[<span class="number">1</span>][procesval];</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    pv = procesval + (wheel[<span class="number">0</span>][<span class="number">2</span>] - wheel[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span> (pv &lt; <span class="number">0</span>) pv += <span class="number">26</span>; </span><br><span class="line">    procesval = rotorvals[wheel[<span class="number">0</span>][<span class="number">0</span>] - <span class="number">27</span>][pv];</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt;= <span class="number">100</span>) procesval -= <span class="number">100</span>;</span><br><span class="line">    procesval = (procesval - (wheel[<span class="number">0</span>][<span class="number">2</span>] - wheel[<span class="number">0</span>][<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">if</span> (procesval &lt; <span class="number">0</span>) procesval += <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt; <span class="number">25</span>) procesval -= <span class="number">26</span>;</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    pv = procesval + (wheel[<span class="number">1</span>][<span class="number">2</span>] - wheel[<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span> (pv &lt; <span class="number">0</span>) pv += pv + <span class="number">26</span>;</span><br><span class="line">    procesval = rotorvals[wheel[<span class="number">1</span>][<span class="number">0</span>] - <span class="number">27</span>][pv];</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt;= <span class="number">100</span>) procesval -= <span class="number">100</span>;</span><br><span class="line">    procesval = (procesval - (wheel[<span class="number">1</span>][<span class="number">2</span>] - wheel[<span class="number">1</span>][<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">if</span> (procesval &lt; <span class="number">0</span>) procesval += <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt; <span class="number">25</span>) procesval -= <span class="number">26</span>;</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    pv = procesval + (wheel[<span class="number">2</span>][<span class="number">2</span>] - wheel[<span class="number">2</span>][<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span> (pv &lt; <span class="number">0</span>) pv += <span class="number">26</span>;</span><br><span class="line">    procesval = rotorvals[wheel[<span class="number">2</span>][<span class="number">0</span>] - <span class="number">27</span>][pv];</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt;= <span class="number">100</span>) procesval -= <span class="number">100</span>;</span><br><span class="line">    procesval = (procesval - (wheel[<span class="number">2</span>][<span class="number">2</span>] - wheel[<span class="number">2</span>][<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">if</span> (procesval &lt; <span class="number">0</span>) procesval += <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt; <span class="number">25</span>) procesval -= <span class="number">26</span>;</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    pv = procesval;</span><br><span class="line">    procesval = rotorvals[reflect[<span class="number">0</span>] + <span class="number">7</span>][pv];</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt;= <span class="number">100</span>) procesval -= <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &lt; <span class="number">0</span>) procesval += <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt; <span class="number">25</span>) procesval -= <span class="number">26</span>;</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    procesval = rotorvals[reflect[<span class="number">0</span>] + <span class="number">9</span>][procesval];</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    pv = procesval + <span class="number">26</span>;</span><br><span class="line">    procesval = rotorvali[reflect[<span class="number">0</span>] + <span class="number">7</span>][pv];</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt;= <span class="number">100</span>) procesval -= <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &lt; <span class="number">0</span>) procesval += <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt; <span class="number">25</span>) procesval -= <span class="number">26</span>;</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    pv = procesval + (wheel[<span class="number">2</span>][<span class="number">2</span>] - wheel[<span class="number">2</span>][<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span> (pv &lt; <span class="number">0</span>) pv += <span class="number">26</span>;</span><br><span class="line">    procesval = rotorvali[wheel[<span class="number">2</span>][<span class="number">0</span>] - <span class="number">27</span>][pv];</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt;= <span class="number">100</span>) procesval -= <span class="number">100</span>;</span><br><span class="line">    procesval = (procesval - (wheel[<span class="number">2</span>][<span class="number">2</span>] - wheel[<span class="number">2</span>][<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">if</span> (procesval &lt; <span class="number">0</span>) procesval += <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt; <span class="number">25</span>) procesval -= <span class="number">26</span>;</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    pv = procesval + (wheel[<span class="number">1</span>][<span class="number">2</span>] - wheel[<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span> (pv &lt; <span class="number">0</span>) pv += <span class="number">26</span>;</span><br><span class="line">    procesval = rotorvali[wheel[<span class="number">1</span>][<span class="number">0</span>] - <span class="number">27</span>][pv];</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt;= <span class="number">100</span>) procesval -= <span class="number">100</span>;</span><br><span class="line">    procesval = (procesval - (wheel[<span class="number">1</span>][<span class="number">2</span>] - wheel[<span class="number">1</span>][<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">if</span> (procesval &lt; <span class="number">0</span>) procesval += <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt; <span class="number">25</span>) procesval -= <span class="number">26</span>;</span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line"></span><br><span class="line">    pv = procesval + (wheel[<span class="number">0</span>][<span class="number">2</span>] - wheel[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">if</span> (pv &lt; <span class="number">0</span>) pv += <span class="number">26</span>;</span><br><span class="line">    procesval = rotorvali[wheel[<span class="number">0</span>][<span class="number">0</span>] - <span class="number">27</span>][pv];</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt;= <span class="number">100</span>) procesval -= <span class="number">100</span>;</span><br><span class="line">    procesval = (procesval - (wheel[<span class="number">0</span>][<span class="number">2</span>] - wheel[<span class="number">0</span>][<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">if</span> (procesval &lt; <span class="number">0</span>) procesval += <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">if</span> (procesval &gt; <span class="number">25</span>) procesval -= <span class="number">26</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Serial.print(procesval); Serial.print("   ");</span></span><br><span class="line">    procesval = plugval[<span class="number">1</span>][procesval];</span><br><span class="line"></span><br><span class="line">    lampval = procesval;</span><br><span class="line">    <span class="comment">//Serial.println(lampval);</span></span><br><span class="line">    dig1 = reflect[<span class="number">1</span>]; dig2 = wheel[<span class="number">2</span>][<span class="number">2</span>]; dig3 = wheel[<span class="number">1</span>][<span class="number">2</span>]; dig4 = wheel[<span class="number">0</span>][<span class="number">2</span>];</span><br><span class="line">    lampita();</span><br><span class="line">    nixisend();</span><br><span class="line">    lampitb();</span><br><span class="line">    dig1 = <span class="number">37</span>; dig2 = <span class="number">37</span>; dig3 = <span class="number">37</span>; dig4 = <span class="number">37</span>;</span><br><span class="line">    digitalWrite(led5, LOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Helper Function to light the proper key</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lampita</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    digitalWrite(lamparray[lampval][<span class="number">0</span>], <span class="number">0</span>);</span><br><span class="line">    digitalWrite(lamparray[lampval][<span class="number">1</span>], <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lampitb</span><span class="params">()</span></span>&#123;</span><br><span class="line">    digitalWrite(lamparray[lampval][<span class="number">0</span>], <span class="number">1</span>);</span><br><span class="line">    digitalWrite(lamparray[lampval][<span class="number">1</span>], <span class="number">1</span>); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Help Function to illuminate "Nixies"</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">nixisend</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    sixteenSegWrite(<span class="number">0</span>, dig1);</span><br><span class="line">    sixteenSegWrite(<span class="number">1</span>, dig2);</span><br><span class="line">    sixteenSegWrite(<span class="number">2</span>, dig3);</span><br><span class="line">    sixteenSegWrite(<span class="number">3</span>, dig4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">marquee</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    time = millis();</span><br><span class="line">    <span class="keyword">if</span> (mtime &lt; time) &#123;</span><br><span class="line">        mtime = time + <span class="number">400</span>;</span><br><span class="line">        mdex++;</span><br><span class="line">    &#125;</span><br><span class="line">    dig1 = data[mdex];</span><br><span class="line">    dig2 = data[mdex + <span class="number">1</span>];</span><br><span class="line">    dig3 = data[mdex + <span class="number">2</span>];</span><br><span class="line">    dig4 = data[mdex + <span class="number">3</span>];</span><br><span class="line">    <span class="keyword">if</span> (mdex &gt;= <span class="number">31</span>) mdex = <span class="number">0</span>;</span><br><span class="line">    nixisend();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Function that actually turns on each of 17 appropriate segments on each "Nixie"</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sixteenSegWrite</span><span class="params">(<span class="keyword">int</span> digit, <span class="keyword">int</span> character)</span> </span>&#123;</span><br><span class="line">    digitalWrite(anode[digit],<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; <span class="number">17</span>; index++) &#123;</span><br><span class="line">        digitalWrite(segment[index], segmentvals[character][index]);</span><br><span class="line">    &#125;</span><br><span class="line">    delay(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= <span class="number">16</span>; index++) &#123;</span><br><span class="line">        digitalWrite(segment[index], <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    digitalWrite(anode[digit], <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">done</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    dig1 = <span class="number">3</span>; dig2 = <span class="number">14</span>; dig3 = <span class="number">13</span>; dig4 = <span class="number">4</span>;</span><br><span class="line">    nixisend();</span><br><span class="line">    dig1 = <span class="number">37</span>; dig2 = <span class="number">37</span>; dig3 = <span class="number">37</span>; dig4 = <span class="number">37</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">indexwheels</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Serial.print(rotorvals[wheel[0][0]-27][wheel[0][2]]);</span></span><br><span class="line">    <span class="comment">//Serial.print("    "); Serial.print(wheel[0][0]-27); Serial.print("    "); Serial.println(wheel[0][2]);</span></span><br><span class="line">    <span class="keyword">if</span> (rotorvals[wheel[<span class="number">0</span>][<span class="number">0</span>] - <span class="number">27</span>][wheel[<span class="number">0</span>][<span class="number">2</span>]] &gt;= <span class="number">100</span>) windex1 = <span class="number">1</span>;</span><br><span class="line">    wheel[<span class="number">0</span>][<span class="number">2</span>]++;</span><br><span class="line">    <span class="keyword">if</span> (wheel[<span class="number">0</span>][<span class="number">2</span>] &gt; <span class="number">25</span>) wheel[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    windex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (windex1 == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (rotorvals[wheel[<span class="number">1</span>][<span class="number">0</span>] - <span class="number">27</span>][wheel[<span class="number">1</span>][<span class="number">2</span>]] &gt;= <span class="number">100</span>) windex2 = <span class="number">1</span>;</span><br><span class="line">        wheel[<span class="number">1</span>][<span class="number">2</span>]++;</span><br><span class="line">        <span class="keyword">if</span> (wheel[<span class="number">1</span>][<span class="number">2</span>] &gt; <span class="number">25</span>) wheel[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    windex1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (windex2 == <span class="number">1</span>) &#123;</span><br><span class="line">        wheel[<span class="number">2</span>][<span class="number">2</span>]++;</span><br><span class="line">        <span class="keyword">if</span> (wheel[<span class="number">2</span>][<span class="number">2</span>] &gt; <span class="number">25</span>) wheel[<span class="number">2</span>][<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">        windex2 = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>IF there is enough interest, we plan on are creating a PCB that would will allow for a much easier assembly of this wonderful fully functional Enigma replica. Please visit <a href="http://www.stgeotronics.com" target="_blank" rel="noopener">http://www.stgeotronics.com</a> to find out about availability, pricing &amp; to place your order or pre-order now. The Circuit schematics are published, so the PCB has entered it’s development stage. Soon to be tested.<br>如果有足够的利润，我们将研发能够使全功能Enigma机复制品装载更为容易的印刷电路板。请登陆 <a href="http://www.stgeotronics.com" target="_blank" rel="noopener">http://www.stgeotronics.com</a> 查询商品上架与否、价格、下单或预订吧。电路图已经发布了，印刷电路也已进入开发阶段，即将内测。</p>
<h2 id="Step-9-Circuit-Schematics"><a href="#Step-9-Circuit-Schematics" class="headerlink" title="Step 9: Circuit Schematics"></a>Step 9: Circuit Schematics</h2><p>第九步：电路图<br><img src="/images/2018-08/FEWJUCNHMMFCNPV.LARGE.jpg" alt=""><br><img src="/images/2018-08/FFCPWADHMMF8FRX.LARGE.jpg" alt=""></p>
<p>In response to the popular demand, here are the two Circuit Schematics.<br>徇众要求，电路图两份在此。<br>The first one shows how our fake nixie tubes (the 4 elevated 16-Segment units) are wired in order to provide the response that the rotors provide on a real Enigma machine. They are also used in each setup mode to provide feedback on the setting up of the machine.<br>第一个是仿电子管（4个16段显示单元）如何布线，用于显示转子在Enigma机上的输出信号。同时，它们也用于每种调试模式，反馈用户机器设定信息。<br>The second one shows how each of the 26 keyboard buttons and 10 function keys, the 26 key lamps &amp; the 5 LEDS are all wired.<br>第二幅电路图显示26个字母按键及10个功能键、26个键盘灯和5个LED是如何布线的。<br>All LED resistors are 470 Ohms and all Pushbutton resistors are 1KOhm.<br>所有LED电阻都是470欧，而开关电阻则都是1千欧。<br>Stay tuned for the PCB design file…<br>印刷电路设计档仍在修正中。<br>We hope you enjoyed our first Instructable!<br>希望你享受我们第一份制作教程!<br>Thank You for your time.<br>感谢你抽出宝贵时间阅读！</p>
<h2 id="Step-10-Prototype-Boards"><a href="#Step-10-Prototype-Boards" class="headerlink" title="Step 10: Prototype Boards"></a>Step 10: Prototype Boards</h2><p>第十步：PCB样机版<br><img src="/images/2018-08/F7E23SFHOHYMQIY.LARGE.jpg" alt=""><br><img src="/images/2018-08/FRVNOESHOPQDW25.LARGE.jpg" alt=""></p>
<p>Due to popular demand, we designed &amp; ordered some Printed Circuit Boards. Well, our PCBs are finally in and at first glance, they look beautiful! We have been busy populating &amp; testing one to make sure it performs as good as it looks and more importantly, as well as our proof-of-concept device.<br>徇众要求，我们设计及定制了一些印刷电路板。它们终于面世了，如此清纯可爱！我们忙于组装，并测试其中一块样品，确保它在功能上与外观一样完美无暇。更重要的是，能实现和那台原型测试机一样的功能。<br>The boards we ordered are almost perfect: they each need a little jumper wire to fix a small design flaw. This small flaw does not affect behavior or functionality and is an easy fix.<br>订购回来的底板几乎完美，只需一点引脚线去修补设计瑕疵。而这些瑕疵对功能没有影响，修理它们是小菜一碟。<br>With this jumper in place, you can now make your own Enigma Replica much easier &amp; faster than running all wires this instructable shows. So, we are now happy to report that testing is completed &amp; the new boards work just fine!<br>有了这些引脚，你能更容易制作自己的Enigma复刻机，比起教程里的布线方便多了。我们在此很高兴宣布，测试完成，新型板一样给力！<br>We are now accepting orders at <a href="http://www.stgeotronics.com" target="_blank" rel="noopener">www.stgeotronics.com</a> &amp; have started shipping.<br>Pictures of the assembly have been added as Step 11.<br>下单订购请登陆 <a href="http://www.stgeotronics.com" target="_blank" rel="noopener">http://www.stgeotronics.com</a> ，已发货热卖中。组装图片请见第十一步。<br>Thank You for your overwhelming support &amp; wonderful feedback!<br>感谢大家的不懈支持和宝贵反馈意见！</p>
<h2 id="Step-11-Assembled-Kits"><a href="#Step-11-Assembled-Kits" class="headerlink" title="Step 11: Assembled Kits"></a>Step 11: Assembled Kits</h2><p>第十一步：组装完成的作品<br><img src="/images/2018-08/FGKWVNEHP8PLOCX.LARGE.jpg" alt=""><br><img src="/images/2018-08/FVGEWVMHP989E1R.LARGE.jpg" alt=""><br><img src="/images/2018-08/FMICFEUHP989E1T.LARGE.jpg" alt=""></p>
<p>更多图片可以前往<a href="https://www.instructables.com/id/Make-your-own-Enigma-Replica/#step11" target="_blank" rel="noopener">原文</a>查看。<br>This assembly took one evening &amp; you can look at assembly pictures above for an overview of the process.<br>花了一晚上组装完成，全过程的概览如上图所示。<br>Thank You for the support &amp; feedback!<br>感谢你的支持与反馈！</p>
<h2 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h2><p>博主在深入了解Enigma机后，制作了一个JavaScript版本的虚拟机，实现了几乎全部功能，可以点击下方链接前往。<br>本站的JavaScript版本：<a href="https://galaxymimi.com/app/enigma/" target="_blank" rel="noopener">主站&gt;应用&gt;原创游戏&gt;Enigma</a><br>这个版本暂未针对移动端进行优化，请使用桌面端打开。<br>而原文中基于Arduino开发的实体机器，由于制作过于复杂，博主还在进行研究，看上去所有的代码都是功能正常的。</p>
<p>参考文章：<br><a href="https://zh.wikipedia.org/wiki/恩尼格玛密码机/" target="_blank" rel="noopener">恩尼格玛密码机 - 维基百科</a><br><a href="http://web.archive.org/web/20150730050426/http://oszine.com/enigma/" target="_blank" rel="noopener">自己打造一台恩尼格码密码机</a><br><a href="https://www.bletchleypark.org.uk" target="_blank" rel="noopener">Bletchley Park</a></p>
    </div>
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>🍭支持一根棒棒糖！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.png" alt="张书樵 微信支付">
        <p>微信支付</p>
      </div>
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.png" alt="张书樵 支付宝">
        <p>支付宝</p>
      </div>
  </div>
</div>
      </div>
      <div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>张书樵</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://zhangshuqiao.org/2018-08/自己打造一台恩尼格玛密码机/" title="自己打造一台恩尼格玛密码机">https://zhangshuqiao.org/2018-08/自己打造一台恩尼格玛密码机/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li>
</ul>
      </div>
    <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/Arduino/" rel="tag"># Arduino</a>
        </div>
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
              <a href="/2018-08/武功山游记/" rel="next" title="武功山游记">
                <i class="fa fa-chevron-left"></i> 武功山游记
              </a>
          </div>
          <span class="post-nav-divider"></span>
          <div class="post-nav-prev post-nav-item">
              <a href="/2018-08/膜法大赛预赛/" rel="prev" title="膜法大赛预赛">
                膜法大赛预赛 <i class="fa fa-chevron-right"></i>
              </a>
          </div>
        </div>
    </footer>
  </div>
  </article>
  </div>
          </div>
    <div class="comments" id="comments">
    </div>
        </div>
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>
  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
              <img class="site-author-image" itemprop="image" src="/images/icon.gif" alt="张书樵">
              <p class="site-author-name" itemprop="name">张书樵</p>
              <p class="site-description motion-element" itemprop="description">力电声光热，涵尽学海无涯</p>
          </div>
            <nav class="site-state motion-element">
                <div class="site-state-item site-state-posts">
                  <a href="/archives/">
                    <span class="site-state-item-count">81</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    <span class="site-state-item-count">23</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
            </nav>
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
             <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-institution"></i>
                主站
              </div>
              <ul class="links-of-blogroll-list">
                  <li class="links-of-blogroll-item">
                    <a href="https://galaxymimi.com" title="https://galaxymimi.com" rel="noopener" target="_blank">Galaxy Mimi</a>
                  </li>
              </ul>
            </div>
        </div>
      </section>
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-1-Proof-of-Concept-on-Breadboard"><span class="nav-number">1.</span> <span class="nav-text">Step 1: Proof of Concept on Breadboard</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-2-Gather-the-Raw-Materials…"><span class="nav-number">2.</span> <span class="nav-text">Step 2: Gather the Raw Materials…</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-3-Lay-the-Components-Down"><span class="nav-number">3.</span> <span class="nav-text">Step 3: Lay the Components Down</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-4-Soldering-Soldering-amp-a-Little-More-Soldering"><span class="nav-number">4.</span> <span class="nav-text">Step 4: Soldering, Soldering &amp; a Little More Soldering</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-5-Make-a-Box-and-Cut-amp-Drill-the-Top-Plate"><span class="nav-number">5.</span> <span class="nav-text">Step 5: Make a Box and Cut &amp; Drill the Top Plate.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-6-Integration-Tests"><span class="nav-number">6.</span> <span class="nav-text">Step 6: Integration Tests</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-7-Software-Ohhhh…-Ouch"><span class="nav-number">7.</span> <span class="nav-text">Step 7: Software - Ohhhh…. Ouch!</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-8-More-Software"><span class="nav-number">8.</span> <span class="nav-text">Step 8: More Software!</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-9-Circuit-Schematics"><span class="nav-number">9.</span> <span class="nav-text">Step 9: Circuit Schematics</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-10-Prototype-Boards"><span class="nav-number">10.</span> <span class="nav-text">Step 10: Prototype Boards</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Step-11-Assembled-Kits"><span class="nav-number">11.</span> <span class="nav-text">Step 11: Assembled Kits</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更多"><span class="nav-number">12.</span> <span class="nav-text">更多</span></a></li></ol></div>
          </div>
        </section>
      <!--/noindex-->
    </div>
  </aside>
      </div>
    </main>
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 – <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">张书樵</span>
</div>
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="site-uv" title="总访客量">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
    <span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
</div>
      </div>
    </footer>
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
          <span id="scrollpercent"><span>0</span>%</span>
      </div>
  </div>
<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/velocity-animate@1.5.1/velocity.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/velocity-animate@1.5.1/velocity.ui.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/fancybox@3.0.1/dist/js/jquery.fancybox.pack.js"></script>
    <script id="ribbon" type="text/javascript" size="300" alpha="0.6" zindex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
    <script type="text/javascript" src="/lib/waifu/live2d.min.js"></script>
    <script type="text/javascript" src="/lib/waifu/waifu-tips.js"></script>
    <script type="text/javascript" src="/lib/custom.js"></script>
  <script type="text/javascript" src="/js/src/utils.js?v=6.5.0"></script>
  <script type="text/javascript" src="/js/src/motion.js?v=6.5.0"></script>
  <script type="text/javascript" src="/js/src/affix.js?v=6.5.0"></script>
  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.5.0"></script>
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.5.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.5.0"></script>
  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.5.0"></script>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="/lib/Valine.min.js"></script>
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(function (item) {
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: true,
        notify: false,
        appId: '2L2N30Kyi18K1DjU0qxMGALD-gzGzoHsz',
        appKey: 'Bwrec8XDJon2rocQ5ScFcFWl',
        placeholder: '您可以在这里输入评论哟～',
        avatar:'mm',
        meta:guest,
        pageSize:'12' || 10,
        visitor: false
    });
  </script>
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;
    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }
    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');
        // ref: https://github.com/ForbesLindesay/unescape-html
        var unescapeHtml = function(html) {
          return String(html)
            .replace(/&quot;/g, '"')
            .replace(/&#39;/g, '\'')
            .replace(/&#x3A;/g, ':')
            // replace all the other &#x; chars
            .replace(/&#(\d+);/g, function (m, p) { return String.fromCharCode(p); })
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&amp;/g, '&');
        };
      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                content = unescapeHtml(content);
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }
                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }
                // show search results
                if (isMatch) {
                  // sort index by position of keyword
                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });
                  // merge hits into slices
                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;
                      // move to next position of hit
                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }
                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }
                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }
                  // sort slices in content by search text's count and hits' count
                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });
                  // select top N slices in content
                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }
                  // highlight title and content
                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }
                  var resultItem = '';
                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }
                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });
                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }
          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }
          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');
          proceedsearch();
        }
      });
    }
    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });
    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>
  <script src="//cdn.jsdelivr.net/npm/pangu@3.3.0/dist/browser/pangu.min.js"></script>
  <script type="text/javascript">pangu.spacingPage();</script>
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }
    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }
    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }
    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
          if(result)$(this).text('复制成功')
          else $(this).text('复制失败')
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('复制')
        }, 300)
      }).append(e)
    })
  </script>
</body>
</html>
